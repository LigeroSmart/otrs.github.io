

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PostMaster Filters &mdash; OTRS Administration Manual 7.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/otrs.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="PostMaster Mail Accounts" href="postmaster-mail-accounts.html" />
    <link rel="prev" title="PGP Keys" href="pgp-keys.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> OTRS Administration Manual
          

          
            
            <img src="../../_static/otrs-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ticket-settings.html">Ticket Settings</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../communication-notifications.html">Communication &amp; Notifications</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="admin-notification.html">Admin Notification</a></li>
<li class="toctree-l2"><a class="reference internal" href="appointment-notifications.html">Appointment Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="communication-log.html">Communication Log</a></li>
<li class="toctree-l2"><a class="reference internal" href="email-addresses.html">Email Addresses</a></li>
<li class="toctree-l2"><a class="reference internal" href="pgp-keys.html">PGP Keys</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">PostMaster Filters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#manage-postmaster-filters">Manage PostMaster Filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#postmaster-filter-settings">PostMaster Filter Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basic-postmaster-filter-settings">Basic PostMaster Filter Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filter-condition">Filter Condition</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-email-headers">Set Email Headers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="postmaster-mail-accounts.html">PostMaster Mail Accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="s-mime-certificates.html">S/MIME Certificates</a></li>
<li class="toctree-l2"><a class="reference internal" href="ticket-notifications.html">Ticket Notifications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../users-groups-roles.html">Users, Groups &amp; Roles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processes-automation.html">Processes &amp; Automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../external-interface.html">External Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../otrs-group-services.html">OTRS Group Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OTRS Administration Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../communication-notifications.html">Communication &amp; Notifications</a> &raquo;</li>
        
      <li>PostMaster Filters</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OTRS/doc-admin/blob/master/content/communication-notifications/postmaster-filters.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="postmaster-filters">
<h1>PostMaster Filters<a class="headerlink" href="#postmaster-filters" title="Permalink to this headline">¶</a></h1>
<p>Pre-sorting standard mail done in a mail room takes care that not every piece of mail sent to the office goes to the same group of people. After a second look at the envelope, rerouting occurs where needed.</p>
<p>OTRS uses so-called <a class="reference internal" href="#"><span class="doc">PostMaster Filters</span></a> to read the email’s envelope and take further action. Depending upon, for example, a subject or sender, an email bound for the service desk could land in a sub-queue or be redirected to a completely different team to create transparency and give your customer the fastest service possible.</p>
<p>Use this screen to add PostMaster filters to the system. The PostMaster filter management screen is available in the <em>PostMaster Filters</em> module of the <em>Communication &amp; Notifications</em> group.</p>
<div class="figure" id="id1">
<img alt="PostMaster Filter Management Screen" src="../../_images/postmaster-filter-management.png" />
<p class="caption"><span class="caption-text">PostMaster Filter Management Screen</span></p>
</div>
<div class="section" id="manage-postmaster-filters">
<h2>Manage PostMaster Filters<a class="headerlink" href="#manage-postmaster-filters" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When adding or editing a PostMaster filter, please keep in mind that they are evaluated in alphabetical order by name.</p>
</div>
<p>To add a PostMaster filter:</p>
<ol class="arabic simple">
<li>Click on the <em>Add PostMaster Filter</em> button in the left sidebar.</li>
<li>Fill in the required fields.</li>
<li>Click on the <em>Save</em> button.</li>
</ol>
<p>To edit a PostMaster filter:</p>
<ol class="arabic simple">
<li>Click on a PostMaster filter in the list of PostMaster filters.</li>
<li>Modify the fields.</li>
<li>Click on the <em>Save</em> or <em>Save and finish</em> button.</li>
</ol>
<p>To delete a PostMaster filter:</p>
<ol class="arabic simple">
<li>Click on the trash icon in the list of PostMaster filters.</li>
<li>Click on the <em>Confirm</em> button.</li>
</ol>
<div class="figure" id="id2">
<img alt="Delete PostMaster Filter Screen" src="../../_images/postmaster-filter-delete.png" />
<p class="caption"><span class="caption-text">Delete PostMaster Filter Screen</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If several PostMaster filters are added to the system, a filter box is useful to find a particular PostMaster filter by just typing to filter.</p>
</div>
</div>
<div class="section" id="postmaster-filter-settings">
<h2>PostMaster Filter Settings<a class="headerlink" href="#postmaster-filter-settings" title="Permalink to this headline">¶</a></h2>
<p>The following settings are available when adding or editing this resource. The fields marked with an asterisk are mandatory.</p>
<div class="figure" id="id3">
<img alt="PostMaster Filter Settings Example" src="../../_images/postmaster-filter-settings-example.png" />
<p class="caption"><span class="caption-text">PostMaster Filter Settings Example</span></p>
</div>
<div class="section" id="basic-postmaster-filter-settings">
<h3>Basic PostMaster Filter Settings<a class="headerlink" href="#basic-postmaster-filter-settings" title="Permalink to this headline">¶</a></h3>
<div class="figure" id="id4">
<img alt="PostMaster Filter Settings - Basic" src="../../_images/postmaster-filter-settings-basic.png" />
<p class="caption"><span class="caption-text">PostMaster Filter Settings - Basic</span></p>
</div>
<dl class="docutils">
<dt>Name *</dt>
<dd><p class="first">The name of this resource. Any type of characters can be entered to this field including uppercase letters and spaces. The name will be displayed in the overview table.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When adding or editing one of the PostMaster filters, remember multiple filters may apply to a single mail. The last rule wins. Rules execute and sort by the ASCII value of the names. Based on the sorted order in the overview, they are applied top to bottom. Look to the <a class="reference external" href="http://www.asciitable.com">ASCI chart</a> to see how to sort your names based on the “ASCII-bet”.</p>
</div>
</dd>
<dt>Stop after match *</dt>
<dd><p class="first">PostMaster filters are evaluated in alphabetical order. This setting defines the evaluation of the subsequent PostMaster filters.</p>
<dl class="last docutils">
<dt>No</dt>
<dd>All PostMaster filters are executed.</dd>
<dt>Yes</dt>
<dd>The current PostMaster filter is still evaluated, but evaluation of the remaining filters is canceled.</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="filter-condition">
<h3>Filter Condition<a class="headerlink" href="#filter-condition" title="Permalink to this headline">¶</a></h3>
<div class="figure" id="id5">
<img alt="PostMaster Filter Settings - Filter Condition" src="../../_images/postmaster-filter-settings-filter-condition.png" />
<p class="caption"><span class="caption-text">PostMaster Filter Settings - Filter Condition</span></p>
</div>
<p>A PostMaster filter consists of one or more conditions that must be met in order for the defined actions to be executed on the email. Filter conditions can be defined for specific mail header entries or for strings in the mail body.</p>
<dl class="docutils">
<dt>Search header field</dt>
<dd><p class="first">A list of mail header entries can be found in <a class="reference external" href="https://tools.ietf.org/html/rfc5322">RFC5322</a>. It is also possible to define <code class="docutils literal notranslate"><span class="pre">X-OTRS</span></code> headers as filter condition. The different <code class="docutils literal notranslate"><span class="pre">X-OTRS</span></code> headers and their meaning are the following:</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">These headers must be manually injected into the mail by means not provided for by OTRS. OTRS only accepts <code class="docutils literal notranslate"><span class="pre">X-OTRS</span></code> headers from trusted sources.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="postmaster-mail-accounts.html#mail-account-settings"><span class="std std-ref">Mail Account Settings</span></a> defines the trust level.</p>
</div>
<dl class="last docutils">
<dt>X-OTRS-AttachmentCount</dt>
<dd>This contains as value the number of attachments which are contained in the email (e.g. <em>0</em> for mails without attachments).</dd>
<dt>X-OTRS-AttachmentExists</dt>
<dd>Depending on whether attachments are included in the email this X-OTRS header is set to <em>yes</em>, or it has a <em>no</em> value if no attachments are included.</dd>
<dt>X-OTRS-BodyDecrypted</dt>
<dd>If the incoming mail was encrypted, it is possible to add a search term to look for the body of the incoming encrypted mail.</dd>
<dt>X-OTRS-CustomerNo</dt>
<dd>Set the customer ID for the ticket.</dd>
<dt>X-OTRS-CustomerUser</dt>
<dd>Set the customer user for the ticket.</dd>
<dt>X-OTRS-DynamicField-&lt;DynamicFieldName&gt;</dt>
<dd>Saves an additional information value for the ticket on &lt;DynamicFieldName&gt; dynamic field. The possible values depend on dynamic field configuration (e.g. text: Notebook, date: 2010-11-20 00:00:00, integer: 1).</dd>
<dt>X-OTRS-FollowUp-*</dt>
<dd>These headers are the same as the ones without the <code class="docutils literal notranslate"><span class="pre">FollowUp</span></code> prefix, but these headers are applied only for follow-up mails.</dd>
<dt>X-OTRS-FollowUp-State-Keep</dt>
<dd>If set to <em>1</em>, the incoming follow-up message will not change the ticket state. For this purpose the header can be customized in the system configuration using option <code class="docutils literal notranslate"><span class="pre">KeepStateHeader</span></code>.</dd>
<dt>X-OTRS-Ignore</dt>
<dd>If set to <em>Yes</em> or <em>True</em>, the incoming message will completely be ignored and never delivered to the system.</dd>
<dt>X-OTRS-IsVisibleForCustomer</dt>
<dd>Controls if the article is shown in the customer interface. Possible values are <em>0</em> or <em>1</em>.</dd>
<dt>X-OTRS-Lock</dt>
<dd>Set the lock state of a ticket. Possible values are <em>locked</em> or <em>unlocked</em>.</dd>
<dt>X-OTRS-Loop</dt>
<dd>If set to <em>True</em>, no auto answer is delivered to the sender of the message (mail loop protection).</dd>
<dt>X-OTRS-Owner</dt>
<dd>Set the agent as owner for the ticket.</dd>
<dt>X-OTRS-OwnerID</dt>
<dd>Set the agent ID as owner for the ticket.</dd>
<dt>X-OTRS-Priority</dt>
<dd>Set the priority for the ticket.</dd>
<dt>X-OTRS-Queue</dt>
<dd>Set the queue where the ticket shall be sorted. If this is set, all other filter rules that try to sort a ticket into a specific queue are ignored. If you use a sub-queue, specify it as <em>Parent::Sub</em>.</dd>
<dt>X-OTRS-Responsible</dt>
<dd>Set the agent ID as responsible for the ticket.</dd>
<dt>X-OTRS-ResponsibleID</dt>
<dd>Set the agent ID as responsible for the ticket.</dd>
<dt>X-OTRS-SenderType</dt>
<dd>Set the sender type for the ticket. Possible values are <em>agent</em>, <em>system</em> or <em>customer</em>.</dd>
<dt>X-OTRS-Service</dt>
<dd>Set the service for the ticket. If you use a sub-service, specify it as <em>Parent::Sub</em>.</dd>
<dt>X-OTRS-SLA</dt>
<dd>Set the service level agreement for the ticket.</dd>
<dt>X-OTRS-State</dt>
<dd>Set the state for the ticket.</dd>
<dt>X-OTRS-State-PendingTime</dt>
<dd><p class="first">Set the pending time for the ticket (you also should sent a pending state via X-OTRS-State). You can specify absolute dates like <em>2010-11-20 00:00:00</em> or relative dates, based on the arrival time of the email. Use the form <code class="docutils literal notranslate"><span class="pre">+</span> <span class="pre">$Number</span> <span class="pre">$Unit</span></code>, where <code class="docutils literal notranslate"><span class="pre">$Unit</span></code> can be <em>s</em> (seconds), <em>m</em> (minutes), <em>h</em> (hours) or <em>d</em> (days). Only one unit can be specified. Examples of valid settings: <em>+50s</em> (pending in 50 seconds), <em>+30m</em> (30 minutes), <em>+12d</em> (12 days).</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Settings like <em>+1d 12h</em> are not possible. You can specify <em>+36h</em> instead.</p>
</div>
</dd>
<dt>X-OTRS-Title</dt>
<dd>Set the title for the ticket.</dd>
<dt>X-OTRS-Type</dt>
<dd>Set the type for the ticket.</dd>
</dl>
</dd>
<dt>for value</dt>
<dd>Enter a search term to this field. Even regular expressions can be used for extended pattern matching.</dd>
<dt>Negate</dt>
<dd>If checked, the condition will use the negate search term.</dd>
</dl>
</div>
<div class="section" id="set-email-headers">
<h3>Set Email Headers<a class="headerlink" href="#set-email-headers" title="Permalink to this headline">¶</a></h3>
<div class="figure" id="id6">
<img alt="PostMaster Filter Settings - Set Email Headers" src="../../_images/postmaster-filter-settings-set-email-headers.png" />
<p class="caption"><span class="caption-text">PostMaster Filter Settings - Set Email Headers</span></p>
</div>
<p>In this section you can choose the actions that are triggered if the filter rules match.</p>
<dl class="docutils">
<dt>Set email header</dt>
<dd>Select an <code class="docutils literal notranslate"><span class="pre">X-OTRS</span></code> header. The <code class="docutils literal notranslate"><span class="pre">X-OTRS</span></code> headers are already described above.</dd>
<dt>with value</dt>
<dd>Add a value to this field that should be set as value of the selected <code class="docutils literal notranslate"><span class="pre">X-OTRS</span></code> header.</dd>
</dl>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="postmaster-mail-accounts.html" class="btn btn-neutral float-right" title="PostMaster Mail Accounts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pgp-keys.html" class="btn btn-neutral" title="PGP Keys" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, OTRS AG

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>