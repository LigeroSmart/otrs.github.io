<html><head>
<!-- otrs.github.io -->
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../../../../../documentation.css">
<script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../../../../../documentation.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>
<script>
$(document).ready(function() {
    // programlistings in manuals
    $('pre.programlisting').each(function(i, block) {
        hljs.highlightBlock(block);
    });
    // code snippets in Perl API docs
    $('.pod pre').addClass('perl').each(function(i, block) {
        hljs.highlightBlock(block);
    });
});</script>
<!-- otrs.github.io -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Kutumia mazingira ya nyuma ya nje</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="OTRS 3.3 - Mwongozo wa msimamizi"><link rel="up" href="administration.html" title="Chapter 4. Utawala"><link rel="prev" href="email-settings.html" title="Mpangilio wa barua pepe"><link rel="next" href="ticket-settings.html" title="Mpangilio wa tiketi"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Kutumia mazingira ya nyuma ya nje</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="email-settings.html">Prev</a> </td><th width="60%" align="center">Chapter 4. Utawala</th><td width="20%" align="right"> <a accesskey="n" href="ticket-settings.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="external-backends"></a>Kutumia mazingira ya nyuma ya nje</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="external-backends.html#customer-data">Data za mteja</a></span></dt><dt><span class="section"><a href="external-backends.html#customer-user-backend">Mazingira ya nyuma ya Mtumiaji mteja</a></span></dt><dd><dl><dt><span class="section"><a href="external-backends.html#customer-backend-db">Hifadhidata (Chaguo-msingi)</a></span></dt><dd><dl><dt><span class="section"><a href="external-backends.html#multi-customer-ids-db">Mteja mwenye vitambulisho vya mteja vingi (Tiketi za Kampuni)</a></span></dt></dl></dd><dt><span class="section"><a href="external-backends.html#customer-backend-ldap">LDAP</a></span></dt><dd><dl><dt><span class="section"><a href="external-backends.html#multi-customer-ids-ldap">Mteja mwenye vitambulisho vya mteja vingi (Tiketi za Kampuni)</a></span></dt></dl></dd><dt><span class="section"><a href="external-backends.html#multiple-customer-backends">Kutumia zaidi ya mazingira ya nyuma ya mteja ya aina moja na OTRS</a></span></dt><dt><span class="section"><a href="external-backends.html#dynamicfield-from-customeruser">Kuhifadhi data za MtejaMtumiaji katika sehemu zinazobadilika.</a></span></dt></dl></dd><dt><span class="section"><a href="external-backends.html#auth-backends">Mazingira ya nyuma ya kuthibitisha Mawakala na Wateja</a></span></dt><dd><dl><dt><span class="section"><a href="external-backends.html#agent-auth-backends">Mazingira ya nyuma ya kuthibitisha Mawakala</a></span></dt><dd><dl><dt><span class="section"><a href="external-backends.html#agent-auth-backend-db">DB (Chaguo-msingi)</a></span></dt><dt><span class="section"><a href="external-backends.html#agent-auth-backend-ldap">LDAP</a></span></dt><dt><span class="section"><a href="external-backends.html#agent-auth-backend-httpbasic">HTTPBasicAuth za Wakala</a></span></dt><dt><span class="section"><a href="external-backends.html#agent-auth-backend-radius">Nusukipenyo</a></span></dt></dl></dd><dt><span class="section"><a href="external-backends.html#customer-auth-backends">Mazingira ya nyuma ya kuthibitisha Wateja</a></span></dt><dd><dl><dt><span class="section"><a href="external-backends.html#customer-auth-backend-db">Hifadhidata (Chaguo-msingi)</a></span></dt><dt><span class="section"><a href="external-backends.html#customer-auth-backend-ldap">LDAP</a></span></dt><dt><span class="section"><a href="external-backends.html#customer-auth-backend-httpbasic">HTTPBasicAuth  za wateja</a></span></dt><dt><span class="section"><a href="external-backends.html#customer-auth-backend-radius">Nusukipenyo</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="external-backends.html#customer-self-registration">Kugeuza kukufaa usajili binafsi wa mteja</a></span></dt><dd><dl><dt><span class="section"><a href="external-backends.html#customer-self-registration-dtl">Kugeuza kiolesura cha wavuti kukufaa</a></span></dt><dt><span class="section"><a href="external-backends.html#customer-self-registration-mapping">Kuunganisha mteja</a></span></dt><dt><span class="section"><a href="external-backends.html#customer-self-registration-customer-table">Kugeuza kukufaa jedwali la mteja_mtumiaji katika hifadhidata ya OTRS</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="customer-data"></a>Data za mteja</h3></div></div></div><p>
OTRS inafanya kazi na sifa nyingi za data za mteja kama jina la mtumiaji,
anuani ya barua pepe, nambari ya simu, na kadh. Hizi sifa zinaonyeshwa
katika mazingira ya mbele ya Wakala na Mteja, na pia inatumika kwenye
uthibitisho wa mteja.
</p><p>
Data za mteja zinazotumika au kuonyeshwa kwenye OTRS zinauwezekano mkubwa wa
kugeuzwa kukufaa. Taarifa ifuatayo hata hivyo inahitajika muda wote kwa
ajili ya uthibitisho wa mteja:
</p><p>
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
      Mtumiaji ingia
    </p></li><li class="listitem"><p>
      Anwani ya barua pepe
    </p></li><li class="listitem"><p>
      Kitambulisho cha mteja
    </p></li></ul></div><p>
</p><p>
Tumia parameta zifuatazo za SysConfig kama unataka kuonyesha taarifa za
mteja katika kiolesura cha wakala wako.
</p><p>
</p><pre class="programlisting">
    # Ticket::Frontend::CustomerInfo*
    # (show customer info on Compose (Phone and Email), Zoom and
    # Queue view)
    $Self-&gt;{'Ticket::Frontend::CustomerInfoCompose'} = 1;
    $Self-&gt;{'Ticket::Frontend::CustomerInfoZoom'} = 1;
</pre><p>
</p><p>
<span class="emphasis"><em>Hati: parameta za usanidi za SysConfig.</em></span>
</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="customer-user-backend"></a>Mazingira ya nyuma ya Mtumiaji mteja</h3></div></div></div><p>
Unaweza kutumia aina mbili za mazingira ya nyuma ya mtumiaji, DB na
LDAP. Kama tayari una mazingira mengine ya nyuma ya mteja (mf. SAP),
inawezekana pia kuandika moduli ambayo inaitumia.
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="customer-backend-db"></a>Hifadhidata (Chaguo-msingi)</h4></div></div></div><p>
Mfano 11-1 unaonyesha usanidi wa mazingira ya nyuma ya DB ya mteja, ambayo
inatumia data za mteja zilizohifadhiwa kwenye hifadhidata ya OTRS.
</p><div class="example"><a name="db-customer-backend"></a><p class="title"><b>Example 4.6. Usanidi wa hifadhidata ya mazingira ya nyuma ya mteja</b></p><div class="example-contents"><p>
</p><pre class="programlisting">
# CustomerUser (customer database backend and settings)
$Self-&gt;{CustomerUser} = {
    Name =&gt; 'Database Datasource',
    Module =&gt; 'Kernel::System::CustomerUser::DB',
    Params =&gt; {
        # if you want to use an external database, add the required settings
#            DSN =&gt; 'DBI:odbc:yourdsn',
#            Type =&gt; 'mssql', # only for ODBC connections
#            DSN =&gt; 'DBI:mysql:database=customerdb;host=customerdbhost',
#            User =&gt; '',
#            Password =&gt; '',
            Table =&gt; 'customer_user',
            # if your frontend is unicode and the charset of your
            # customer database server is iso-8859-1, use these options.
#           SourceCharset =&gt; 'iso-8859-1',
#           DestCharset =&gt; 'utf-8',

            # CaseSensitive will control if the SQL statements need LOWER()
            #   function calls to work case insensitively. Setting this to
            #   1 will improve performance dramatically on large databases.
            CaseSensitive =&gt; 0,
        },
# customer unique id
CustomerKey =&gt; 'login',

# customer #
CustomerID =&gt; 'customer_id',
CustomerValid =&gt; 'valid_id',
    CustomerUserListFields =&gt; ['first_name', 'last_name', 'email'],
    CustomerUserSearchFields =&gt; ['login', 'last_name', 'customer_id'],
    CustomerUserSearchPrefix =&gt; '',
    CustomerUserSearchSuffix =&gt; '*',
    CustomerUserSearchListLimit =&gt; 250,
    CustomerUserPostMasterSearchFields =&gt; ['email'],
    CustomerUserNameFields =&gt; ['title','first_name','last_name'],
    CustomerUserEmailUniqCheck =&gt; 1,
#    # show not own tickets in customer panel, CompanyTickets
#    CustomerUserExcludePrimaryCustomerID =&gt; 0,
#    # generate auto logins
#    AutoLoginCreation =&gt; 0,
#    AutoLoginCreationPrefix =&gt; 'auto',
#    # admin can change customer preferences
#    AdminSetPreferences =&gt; 1,
#    # cache time to live in sec. - cache any database queries
#    CacheTTL =&gt; 0,
#    # just a read only source
#    ReadOnly =&gt; 1,
    Map =&gt; [
        # note: Login, Email and CustomerID needed!
        # var, frontend, storage, shown (1=always,2=lite), required, storage-type, http-link, readonly, http-link-target
        [ 'UserTitle',      'Title',      'title',      1, 0, 'var', '', 0 ],
        [ 'UserFirstname',  'Firstname',  'first_name', 1, 1, 'var', '', 0 ],
        [ 'UserLastname',   'Lastname',   'last_name',  1, 1, 'var', '', 0 ],
        [ 'UserLogin',      'Username',   'login',      1, 1, 'var', '', 0 ],
        [ 'UserPassword',   'Password',   'pw',         0, 0, 'var', '', 0 ],
        [ 'UserEmail',      'Email',      'email',      1, 1, 'var', '', 0 ],

#        [ 'UserEmail',      'Email', 'email',           1, 1, 'var', '$Env{"CGIHandle"}?Action=AgentTicketCompose&amp;ResponseID=1&amp;TicketID=$Data{"TicketID"}&amp;ArticleID=$Data{"ArticleID"}', 0 ],
        [ 'UserCustomerID', 'CustomerID', 'customer_id', 0, 1, 'var', '', 0 ],

#        [ 'UserCustomerIDs', 'CustomerIDs', 'customer_ids', 1, 0, 'var', '', 0 ],
        [ 'UserPhone',        'Phone',       'phone',        1, 0, 'var', '', 0 ],
        [ 'UserFax',          'Fax',         'fax',          1, 0, 'var', '', 0 ],
        [ 'UserMobile',       'Mobile',      'mobile',       1, 0, 'var', '', 0 ],
        [ 'UserStreet',       'Street',      'street',       1, 0, 'var', '', 0 ],
        [ 'UserZip',          'Zip',         'zip',          1, 0, 'var', '', 0 ],
        [ 'UserCity',         'City',        'city',         1, 0, 'var', '', 0 ],
        [ 'UserCountry',      'Country',     'country',      1, 0, 'var', '', 0 ],
        [ 'UserComment',      'Comment',     'comments',     1, 0, 'var', '', 0 ],
        [ 'ValidID',          'Valid',       'valid_id',     0, 1, 'int', '', 0 ],
    ],
    # default selections
    Selections =&gt; {
        UserTitle =&gt; {
            'Mr.' =&gt; 'Mr.',
            'Mrs.' =&gt; 'Mrs.',
        },
    },
};
</pre><p>
</p></div></div><br class="example-break"><p>
Ukitaka kugeuza data za mteja kukufaa, badili vichwa vya safuwima au ongeza
mpya kwenye jedwali la mteja_mtumiaji kwenye hifadhidata ya OTRS. Kama
mfano, hati hapa chini inaonyesha jinsi ya kuongeza sehemu mpya kwa ajili ya
nambari ya chumba.
</p><p>
</p><pre class="screen">
linux:~# mysql -p
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 116 to server version: 5.0.18-Debian_7-log

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt; use otrs;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql&gt; ALTER TABLE customer_user ADD room VARCHAR (250);
Query OK, 1 rows affected (0.01 sec)
Records: 1  Duplicates: 0  Warnings: 0

mysql&gt; quit
Bye
linux:~#
</pre><p>
</p><p>
<span class="emphasis"><em>Hati: Kuongeza sehemu ya chumba katika jedwali la
mteja_mtumiaji.</em></span>
</p><p>
Sasa ongeza safuwima mpya kwenye mkusanyiko wa RAMANI katika
<code class="filename">Kernel/Config.pm</code>, kama inavyoonyeshwa katika hati
inayofuata.
</p><p>
</p><pre class="programlisting">
    # var, frontend, storage, shown (1=always,2=lite), required, storage-type, http-link, readonly
    [...]
    [ 'UserRoom',      'Room',      'room',       0, 1, 'var', '', 0 ],
</pre><p>
</p><p>
<span class="emphasis"><em>Hati: Kuongeza sehemu ya chumba kweye faili
Kernel/Config.pm.</em></span>
</p><p>
Pia inawezekana kuhariri taarifa zote za mteja kupitia kiungo cha mteja
kwenye kiolesura cha Wakala.
</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="multi-customer-ids-db"></a>Mteja mwenye vitambulisho vya mteja vingi (Tiketi za Kampuni)</h5></div></div></div><p>
Inawezekana kugawia zaidi ya kitambulisho cha mteja kimoja kwa mteja. Hii
inakuwa na manufaa kama mteja anatakiwa kufikia tiketi za wateja wengine,
mf. msimamizi anataka kuangalia tiketi za wasaidizi wake. Kama mteja anaweza
kufikia tiketi za mteja mwingine, kipengele cha tiketi za kampuni cha OTRS
kinatumika. Tiketi za kampuni zinaweza kufikiwa kupitia kiungo "Tiketi za
Kampuni" katika paneli ya wateja.
</p><p>
Kutumia tiketi za kampuni, safuwima mpya yenye Vitambulisho ambavyo vinaweza
kufikiwa na mteja, inabidi viongezwe kwenye jedwali la mteja_mtumiaji katika
hifadhidata ya OTRS (ona Hati chini).
</p><p>
</p><pre class="screen">
linux:~# mysql -p
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 124 to server version: 5.0.18-Debian_7-log

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt; use otrs;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql&gt; ALTER TABLE customer_user ADD customer_ids VARCHAR (250);
Query OK, 1 rows affected (0.02 sec)
Records: 1  Duplicates: 0  Warnings: 0

mysql&gt; quit
Bye
linux:~#
</pre><p>
</p><p>
    <span class="emphasis"><em>Hati: Kuongeza sehemu ya mteja_vitambulisho kwenye jedwali la
mteja_mtumiaji.</em></span>
</p><p>
Sasa safuwima mpya inabidi iongezwe kwenye mkusanyiko wa RAMANI katika
<code class="filename">Kernel/Config.pm</code>, kama ilivyoonyeshwa kwenye hati
chini.
</p><p>
</p><pre class="programlisting">
    # var, frontend, storage, shown (1=always,2=lite), required, storage-type, http-link, readonly
    [...]
    [ 'UserCustomerIDs', 'CustomerIDs', 'customer_ids', 1, 0, 'var', '', 0 ],
</pre><p>
</p><p>
<span class="emphasis"><em>Hati: Kuongeza sehemu ya Vitambulisho vya MtumiajiMteja kwenye
faili Kernel/Config.pm.</em></span>
</p><p>
Sasa safuwima mpya kwa ajili ya Vitambulisho vingi vya mteja inaweza
kuhaririwa kupitia kiolesura cha Wakala, katika kifungu cha usimamizi wa
mteja.
</p><p>
Kuhakikisha mteja mmoja anaweza kufikia tiketi za wateja wengine, ongeza
vitambulisho vya hawa  watumiaji wengine katika sehemu mpya kwa ajili ya
vitambulisho vingi vya mteja. Kila kitambulisho lazima kitenganishwe na
alama yanuktamkato (ona Mfano 11-2 chini).
</p><div class="example"><a name="company-tickets-db"></a><p class="title"><b>Example 4.7. Kutumia tiketi za kampuni na mazingira ya nyuma ya DB</b></p><div class="example-contents"><p>
Wateja A,B na C wapo kwenye mfumo wako, na A anataka kufikia tiketi za B na
C kupitia paneli ya mteja. B na C hawatakiwi kufikia tiketi za watumiaji
wengine.
</p><p>
Kutambua mpangilio huu, badilisha jedwali la mteja_mtumiaji na miunganiko
katika <code class="filename">Kernel/Config.pm</code> kama ilivyoelezwa hapo
juu. Kisha pakia mipangilio ya mteja A kupitia kiungo cha Mteja katika
kiolesura cha Wakala au kupitia kurasa ya Msimamizi. Kama mipangilio
imeonyeshwa, ongeza kwenye sehemu ya Vitambulisho vya Wateja thamani "B;C".
</p></div></div><br class="example-break"></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="customer-backend-ldap"></a>LDAP</h4></div></div></div><p>
Kama una mpangilio orodha wa LDAP na data za mteja wako, unaweza kuitumia
kama mazingira ya nyuma ya mteja na OTRS, kama ilivyo onyeshwa kwenye mfano
11-3.
</p><div class="example"><a name="ldap-customer-backend"></a><p class="title"><b>Example 4.8. Usanidi wa LDAP ya mazingira yanyuma ya mteja</b></p><div class="example-contents"><p>
</p><pre class="programlisting">
# CustomerUser
# (customer ldap backend and settings)
$Self-&gt;{CustomerUser} = {
    Name =&gt; 'LDAP Data Source',
    Module =&gt; 'Kernel::System::CustomerUser::LDAP',
    Params =&gt; {
        # ldap host
        Host =&gt; 'bay.csuhayward.edu',
        # ldap base dn
        BaseDN =&gt; 'ou=seas,o=csuh',
        # search scope (one|sub)
        SSCOPE =&gt; 'sub',
        # The following is valid but would only be necessary if the
        # anonymous user does NOT have permission to read from the LDAP tree
        UserDN =&gt; '',
        UserPw =&gt; '',
        # in case you want to add always one filter to each ldap query, use
        # this option. e. g. AlwaysFilter =&gt; '(mail=*)' or AlwaysFilter =&gt; '(objectclass=user)'
        AlwaysFilter =&gt; '',
            # if both your frontend and your LDAP are unicode, use this:
            SourceCharset =&gt; 'utf-8',
            DestCharset   =&gt; 'utf-8',
            # if your frontend is unicode and the charset of your
            # ldap server is iso-8859-1, use these options.
            # SourceCharset =&gt; 'iso-8859-1',
            # DestCharset =&gt; 'utf-8',
            # Net::LDAP new params (if needed - for more info see perldoc Net::LDAP)
            Params =&gt; {
                port =&gt; 389,
                timeout =&gt; 120,
                async =&gt; 0,
                version =&gt; 3,
            },
    },
    # customer unique id
    CustomerKey =&gt; 'uid',
    # customer #
    CustomerID =&gt; 'mail',
    CustomerUserListFields =&gt; ['cn', 'mail'],
    CustomerUserSearchFields =&gt; ['uid', 'cn', 'mail'],
    CustomerUserSearchPrefix =&gt; '',
    CustomerUserSearchSuffix =&gt; '*',
    CustomerUserSearchListLimit =&gt; 250,
    CustomerUserPostMasterSearchFields =&gt; ['mail'],
    CustomerUserNameFields =&gt; ['givenname', 'sn'],
    # show not own tickets in customer panel, CompanyTickets
    CustomerUserExcludePrimaryCustomerID =&gt; 0,
    # add an ldap filter for valid users (expert setting)
#    CustomerUserValidFilter =&gt; '(!(description=locked))',
    # administrator can't change customer preferences
    AdminSetPreferences =&gt; 0,
#    # cache time to live in sec. - cache any database queries
#    CacheTTL =&gt; 0,
    Map =&gt; [
        # note: Login, Email and CustomerID are mandatory!
        # var, frontend, storage, shown (1=always,2=lite), required, storage-type, http-link, readonly
        [ 'UserTitle',      'Title',      'title',           1, 0, 'var', '', 0 ],
        [ 'UserFirstname',  'Firstname',  'givenname',       1, 1, 'var', '', 0 ],
        [ 'UserLastname',   'Lastname',   'sn',              1, 1, 'var', '', 0 ],
        [ 'UserLogin',      'Username',   'uid',             1, 1, 'var', '', 0 ],
        [ 'UserEmail',      'Email',      'mail',            1, 1, 'var', '', 0 ],
        [ 'UserCustomerID', 'CustomerID', 'mail',            0, 1, 'var', '', 0 ],
#        [ 'UserCustomerIDs', 'CustomerIDs', 'second_customer_ids', 1, 0, 'var', '', 0 ],
        [ 'UserPhone',      'Phone',      'telephonenumber', 1, 0, 'var', '', 0 ],
        [ 'UserAddress',    'Address',    'postaladdress',   1, 0, 'var', '', 0 ],
        [ 'UserComment',    'Comment',    'description',     1, 0, 'var', '', 0 ],
    ],
};
</pre><p>
</p></div></div><br class="example-break"><p>
Kama sifa za ziada za mteja zimehifadhiwa kwenye mpangilio orodha wa LDAP
yako, kwa mfano jina la meneja, namba ya simu ya mkononi, au idara, na kama
unataka kuonyesha taarifa hizi kwenye OTRS, panua mkusanyiko wa RAMANI
kwenye <code class="filename">Kernel/Config.pm</code> na maingizo kwa sifa hizi, kama
ilivyoonyeshwa kwenye hati ifuatayo.
</p><p>
</p><pre class="programlisting">
    # var, frontend, storage, shown (1=always,2=lite), required, storage-type, http-link, readonly
    [...]
    [ 'UserPhone',      'Phone',      'telephonenumber', 1, 0, 'var', '', 0 ],
</pre><p>
</p><p>
<span class="emphasis"><em>Hati: Kuongeza sehemu mpya kwenye Kernel/Config.pm
file.</em></span>
</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="multi-customer-ids-ldap"></a>Mteja mwenye vitambulisho vya mteja vingi (Tiketi za Kampuni)</h5></div></div></div><p>
Inawezekana kugawia zaidi ya Kitambulisho kimoja cha Mteja kwa mteja, ukiwa
unatumia mazingira ya nyuma ya LDAP. Kutumia tiketi za kampuni, sehemu mpya
inabidi iongezwe kwenye mpangilio orodha wa LDAP ambayo ina vitambulisho
vinavyofikika na mteja.
</p><p>
Kama sehemu mpya kwenye mpangilio orodha wa LDAP imetengenezwa, ingizo jipya
inabidi liongezwe kwenye mkusanyiko wa RAMANI katika
<code class="filename">Kernel/Config.pm</code>, kama ilivyoonyeshwa kwenye hati
chini.
</p><p>
</p><pre class="programlisting">
    # var, frontend, storage, shown (1=always,2=lite), required, storage-type, http-link, readonly
    [...]
    [ 'UserCustomerIDs', 'CustomerIDs', 'customer_ids', 1, 0, 'var', '', 0 ],
</pre><p>
</p><p>
<span class="emphasis"><em>Hati: Kuunganisha sehemu mpya kwenye Kernel/Config.pm
file.</em></span>
</p><p>
Sehemu kwa ajili ya vitambulisho vingi vya mteja inabidi kuhaririwa moja kwa
moja katika mpangilio orodha wa LDAP. OTRS inaweza kusoma tu kutoka kwenye
LDAp, sio kuandika.
</p><p>
Kuhakikisha ufikivu wa mteja kwenye tiketi za wateja wengine, ongeza
Vitambulisho vya wateja ambao tiketi zao zinatakiwa kufikiwa kwenye sehemu
mpya katika mpangilio orodha wako wa LDAP. Kila kitambulisho lazima
kigawanywe kwa alama nuktamkato (ona Mfano 11-4 chini) .
</p><div class="example"><a name="company-tickets-ldap"></a><p class="title"><b>Example 4.9. Kutumia tiketi za Kampuni na mazingira ya nyuma ya LDAP</b></p><div class="example-contents"><p>
Wateja A, B na C wapo kwenye mfumo wako na A anataka kuwa na ufikivu wa
tiketi za B na C kupitia paneli ya mteja. B na C hawatakiwi kuwa na ufikivu
wa tiketi za wateja wengine.
</p><p>
Kutambua mpangilio huu, badilisha mpangilio orodha wa LDAP na miunganiko
katika <code class="filename">Kernel/Config.pm</code> kama ilivyoelezwa juu. Kisha
ongeza kwenye sehemu ya Vitambulisho vya wateja thamani "B;C" kwa mteja A
katika mpangilio orodha wa LDAP.
</p></div></div><br class="example-break"></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="multiple-customer-backends"></a>Kutumia zaidi ya mazingira ya nyuma ya mteja ya aina moja na OTRS</h4></div></div></div><p>
Kama ukitaka kutumia zaidi ya chanzo kimoja cha data za mteja zinazotumika
na OTRS (mf. mazingira ya nyuma ya LDAP na hifadhidata), parameta ya usanidi
ya MtejaMtumiaji lazima ipanuliwe na nambari, mf. "MtejaMtumiaji 1",
"MtejaMtumiaji2" (ona Mfano 11-5 chini).
</p><div class="example"><a name="multiple-customer-backend-example"></a><p class="title"><b>Example 4.10. Kutumia zaidi ya mazingira ya nyuma ya mteja ya aina moja na OTRS</b></p><div class="example-contents"><p>
Mfano unaofuata wa usanidi unaonyesha matumizi ya mazingira ya nyuma ya
mteja ya LDAP na hifadhidata katika OTRS.
</p><p>
</p><pre class="programlisting">
# 1. Customer user backend: DB
# (customer database backend and settings)
$Self-&gt;{CustomerUser1} = {
    Name =&gt; 'Customer Database',
    Module =&gt; 'Kernel::System::CustomerUser::DB',
    Params =&gt; {
        # if you want to use an external database, add the
        # required settings
#        DSN =&gt; 'DBI:odbc:yourdsn',
#        Type =&gt; 'mssql', # only for ODBC connections
#        DSN =&gt; 'DBI:mysql:database=customerdb;host=customerdbhost',
#        User =&gt; '',
#        Password =&gt; '',
        Table =&gt; 'customer_user',
    },
    # customer unique id
    CustomerKey =&gt; 'login',
    # customer #
    CustomerID =&gt; 'customer_id',
    CustomerValid =&gt; 'valid_id',
    CustomerUserListFields =&gt; ['first_name', 'last_name', 'email'],
    CustomerUserSearchFields =&gt; ['login', 'last_name', 'customer_id'],
    CustomerUserSearchPrefix =&gt; '',
    CustomerUserSearchSuffix =&gt; '*',
    CustomerUserSearchListLimit =&gt; 250,
    CustomerUserPostMasterSearchFields =&gt; ['email'],
    CustomerUserNameFields =&gt; ['title','first_name','last_name'],
    CustomerUserEmailUniqCheck =&gt; 1,
#    # show not own tickets in customer panel, CompanyTickets
#    CustomerUserExcludePrimaryCustomerID =&gt; 0,
#    # generate auto logins
#    AutoLoginCreation =&gt; 0,
#    AutoLoginCreationPrefix =&gt; 'auto',
#    # admin can change customer preferences
#    AdminSetPreferences =&gt; 1,
#    # cache time to live in sec. - cache any database queries
#    CacheTTL =&gt; 0,
#    # just a read only source
#    ReadOnly =&gt; 1,
    Map =&gt; [

        # note: Login, Email and CustomerID needed!
        # var, frontend, storage, shown (1=always,2=lite), required, storage-type, http-link, readonly, http-link-target
        [ 'UserTitle',      'Title',      'title',        1, 0, 'var', '', 0 ],
        [ 'UserFirstname',  'Firstname',  'first_name',   1, 1, 'var', '', 0 ],
        [ 'UserLastname',   'Lastname',   'last_name',    1, 1, 'var', '', 0 ],
        [ 'UserLogin',      'Username',   'login',        1, 1, 'var', '', 0 ],
        [ 'UserPassword',   'Password',   'pw',           0, 0, 'var', '', 0 ],
        [ 'UserEmail',      'Email',      'email',        1, 1, 'var', '', 0 ],
        [ 'UserCustomerID', 'CustomerID', 'customer_id',  0, 1, 'var', '', 0 ],
        [ 'UserPhone',      'Phone',      'phone',        1, 0, 'var', '', 0 ],
        [ 'UserFax',        'Fax',        'fax',          1, 0, 'var', '', 0 ],
        [ 'UserMobile',     'Mobile',     'mobile',       1, 0, 'var', '', 0 ],
        [ 'UserStreet',     'Street',     'street',       1, 0, 'var', '', 0 ],
        [ 'UserZip',        'Zip',        'zip',          1, 0, 'var', '', 0 ],
        [ 'UserCity',       'City',       'city',         1, 0, 'var', '', 0 ],
        [ 'UserCountry',    'Country',    'country',      1, 0, 'var', '', 0 ],
        [ 'UserComment',    'Comment',    'comments',     1, 0, 'var', '', 0 ],
        [ 'ValidID',        'Valid',      'valid_id',     0, 1, 'int', '', 0 ],
    ],
    # default selections
    Selections =&gt; {
        UserTitle =&gt; {
            'Mr.' =&gt; 'Mr.',
            'Mrs.' =&gt; 'Mrs.',
        },
    },
};

# 2. Customer user backend: LDAP
# (customer ldap backend and settings)
$Self-&gt;{CustomerUser2} = {
    Name =&gt; 'LDAP Datasource',
    Module =&gt; 'Kernel::System::CustomerUser::LDAP',
    Params =&gt; {
        # ldap host
        Host =&gt; 'bay.csuhayward.edu',
        # ldap base dn
        BaseDN =&gt; 'ou=seas,o=csuh',
        # search scope (one|sub)
        SSCOPE =&gt; 'sub',
#        # The following is valid but would only be necessary if the
#        # anonymous user does NOT have permission to read from the LDAP tree
        UserDN =&gt; '',
        UserPw =&gt; '',
        # in case you want to add always one filter to each ldap query, use
        # this option. e. g. AlwaysFilter =&gt; '(mail=*)' or AlwaysFilter =&gt; '(objectclass=user)'
        AlwaysFilter =&gt; '',
        # if both your frontend and your LDAP are unicode, use this:
#        SourceCharset =&gt; 'utf-8',
#        DestCharset   =&gt; 'utf-8',
        # if your frontend is e. g. iso-8859-1 and the character set of your
        # ldap server is utf-8, use these options:
#        SourceCharset =&gt; 'utf-8',
#        DestCharset =&gt; 'iso-8859-1',

        # Net::LDAP new params (if needed - for more info see perldoc Net::LDAP)
        Params =&gt; {
            port =&gt; 389,
            timeout =&gt; 120,
            async =&gt; 0,
            version =&gt; 3,
        },
    },
    # customer unique id
    CustomerKey =&gt; 'uid',
    # customer #
    CustomerID =&gt; 'mail',
    CustomerUserListFields =&gt; ['cn', 'mail'],
    CustomerUserSearchFields =&gt; ['uid', 'cn', 'mail'],
    CustomerUserSearchPrefix =&gt; '',
    CustomerUserSearchSuffix =&gt; '*',
    CustomerUserSearchListLimit =&gt; 250,
    CustomerUserPostMasterSearchFields =&gt; ['mail'],
    CustomerUserNameFields =&gt; ['givenname', 'sn'],
    # show not own tickets in customer panel, CompanyTickets
    CustomerUserExcludePrimaryCustomerID =&gt; 0,
    # add a ldap filter for valid users (expert setting)
#    CustomerUserValidFilter =&gt; '(!(description=locked))',
    # admin can't change customer preferences
    AdminSetPreferences =&gt; 0,
    Map =&gt; [
        # note: Login, Email and CustomerID needed!
        # var, frontend, storage, shown (1=always,2=lite), required, storage-type, http-link, readonly
        [ 'UserTitle',      'Title',      'title',           1, 0, 'var', '', 0 ],
        [ 'UserFirstname',  'Firstname',  'givenname',       1, 1, 'var', '', 0 ],
        [ 'UserLastname',   'Lastname',   'sn',              1, 1, 'var', '', 0 ],
        [ 'UserLogin',      'Username',   'uid',             1, 1, 'var', '', 0 ],
        [ 'UserEmail',      'Email',      'mail',            1, 1, 'var', '', 0 ],
        [ 'UserCustomerID', 'CustomerID', 'mail',            0, 1, 'var', '', 0 ],
#        [ 'UserCustomerIDs', 'CustomerIDs', 'second_customer_ids', 1, 0, 'var', '', 0 ],
        [ 'UserPhone',      'Phone',      'telephonenumber', 1, 0, 'var', '', 0 ],
        [ 'UserAddress',    'Address',    'postaladdress',   1, 0, 'var', '', 0 ],
        [ 'UserComment',    'Comment',    'description',     1, 0, 'var', '', 0 ],
    ],
};
</pre><p>
</p></div></div><br class="example-break"><p>
Inawezekana kuunganisha mpaka mazingira ya nyuma 10 tofauti ya mteja. Tumia
kiolesura cha usimamizi cha mteja katika OTRS kuona au kuhariri (tukiamini
utawala data umewezeshwa) data zote za mteja.
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="dynamicfield-from-customeruser"></a>Kuhifadhi data za MtejaMtumiaji katika sehemu zinazobadilika.</h4></div></div></div><p>
        Mara nyingine inaweza kuwa na manufaa kuhifadhi data za MtejaMtumiaji katika
sehemu zinazobadilika za tiketi, kwa fano kutengeneza takwimu muhimu kwenye
data hizi.
    </p><p>
        Thamani za sehemu zinazobadilika zinasetiwa tiketi inapotengenezwa au pale
mteja wa tiketi anapobadilishwa. Thamani za sehemu zinazobadilika
zinachukuliwa kutoka kwenye data za mteja. Hii inafanya kazi kwa mazingira
yoye ya nyuma, lakini ni ya manufaa zaidi kwa mazingir aya nyuma ya LDAP.
    </p><p>
        Kuamilisha hiki kipengele cha hiari cha OTRS, tafadhali amilisha mipangilio
"Tiketi::ModuliTukioTuma###930-SehemuInayobadilikaKutokaKwaMtejaMtumiaji" na
"SehemuInayobadilikaKutokaKwaMtejaMtumiaji::Kuunganisha". Mpangilio wa
mwisho una usanidi ambao ingizo la sehemu ya MtumiajiMteja linatakiwa
kuhifadhiwa katika sehemu inayobadilika ya tiketi. Sehemu inabidi ziwepo
kwenye mfumo na zinatakiwa kuwezeshwa kwa ajili ya WakalaTiketiHuruNakala,
ili zisetiwe kwa mikono. Hazitakiwi kuwezeshwa kwa ajili ya
WakalaTiketiSimu, WakalaTiketiBaruapepe na WakalaTiketiMteja. Kama zilikuwa,
inabidi zitangulie thamani zilizosetiwa kiotomatiki.
    </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="auth-backends"></a>Mazingira ya nyuma ya kuthibitisha Mawakala na Wateja</h3></div></div></div><p>
OTRS inatoa chaguo la kuthibitisha mawakala na wateja katika mazingira
tofauti ya nyuma.
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="agent-auth-backends"></a>Mazingira ya nyuma ya kuthibitisha Mawakala</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="agent-auth-backend-db"></a>DB (Chaguo-msingi)</h5></div></div></div><p>
Mazingira ya nyuma yatumikayo kwa kawaida ni hifadhidata ya OTRS. Unaweza
kuongeza au kuhariri mawakala kupitia  <a class="link" href="administration.html#adminarea-agents" title="Mawakala">kiolesura cha usimamizi wa mteja</a>
katika<a class="link" href="administration.html#adminarea" title="Eneo la MSIMAMIZI wa OTRS">Kurasa ya Msimamizi</a>(ona Mfano 11-6
chini).
</p><div class="example"><a name="configuration-agent-auth-backend-db"></a><p class="title"><b>Example 4.11. Thibitisha mawakala katika mazingira ya nyuma ya DB.</b></p><div class="example-contents"><p>
</p><pre class="programlisting">
    $Self-&gt;{'AuthModule'} = 'Kernel::System::Auth::DB';
</pre><p>
</p></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="agent-auth-backend-ldap"></a>LDAP</h5></div></div></div><p>
Kama mpangilio orodha wa LDAP una data zote zilizohifadhiwa za wakala wako,
unaweza kutumia moduli ya LDAP kuthibitisha watumiaji wako katika OTRS (ona
Mfano 11-7 chini). Hii moduli ina ufikivu wa kusoma tu kwenye matawi ya
LDAP, inamaanisha huwezi kuhariri data zako za mtumiaji kupitia <a class="link" href="administration.html#adminarea-agents" title="Mawakala">kiolesura cha usimamizi wa mteja</a>.
</p><div class="example"><a name="configuration-agent-auth-backend-ldap"></a><p class="title"><b>Example 4.12. Thibitisha mawakala katika mazingira ya nyuma ya LDAP.</b></p><div class="example-contents"><p>
</p><pre class="programlisting">
# This is an example configuration for an LDAP auth. backend.
# (Make sure Net::LDAP is installed!)
$Self-&gt;{'AuthModule'} = 'Kernel::System::Auth::LDAP';
$Self-&gt;{'AuthModule::LDAP::Host'} = 'ldap.example.com';
$Self-&gt;{'AuthModule::LDAP::BaseDN'} = 'dc=example,dc=com';
$Self-&gt;{'AuthModule::LDAP::UID'} = 'uid';

# Check if the user is allowed to auth in a posixGroup
# (e. g. user needs to be in a group xyz to use otrs)
$Self-&gt;{'AuthModule::LDAP::GroupDN'} = 'cn=otrsallow,ou=posixGroups,dc=example,dc=com';
$Self-&gt;{'AuthModule::LDAP::AccessAttr'} = 'memberUid';
# for ldap posixGroups objectclass (just uid)
#  $Self-&gt;{'AuthModule::LDAP::UserAttr'} = 'UID';
# for non ldap posixGroups objectclass (with full user dn)
#  $Self-&gt;{'AuthModule::LDAP::UserAttr'} = 'DN';

# The following is valid but would only be necessary if the
# anonymous user do NOT have permission to read from the LDAP tree
$Self-&gt;{'AuthModule::LDAP::SearchUserDN'} = '';
$Self-&gt;{'AuthModule::LDAP::SearchUserPw'} = '';

# in case you want to add always one filter to each ldap query, use
# this option. e. g. AlwaysFilter =&gt; '(mail=*)' or AlwaysFilter =&gt; '(objectclass=user)'
$Self-&gt;{'AuthModule::LDAP::AlwaysFilter'} = '';

# in case you want to add a suffix to each login name, then
# you can use this option. e. g. user just want to use user but
# in your ldap directory exists user@domain.
#    $Self-&gt;{'AuthModule::LDAP::UserSuffix'} = '@domain.com';

# Net::LDAP new params (if needed - for more info see perldoc Net::LDAP)
$Self-&gt;{'AuthModule::LDAP::Params'} = {
    port =&gt; 389,
    timeout =&gt; 120,
    async =&gt; 0,
    version =&gt; 3,
};
</pre><p>
</p></div></div><br class="example-break"><p>
Mipangilio ya usanidi iliyoonyeshwa kwenye hati hapo chini inaweza kutumika
kulandanisha data zote za mtumiaji kutoka kwenye mpangilio orodha wako wa
LDAP kwenda kwenye hifadhidata yako ya OTRS ya ndani. Hii inapunguza idadi
ya maombi kwenda kwenye seva yako ya LDAP na inaongeza kasi ya uthibitisho
na OTRS. Ulandanishi wa data unafanyika pale wakala anapojithibitisha kwa
mara ya kwanza.  Hata hivyo hiyo data inaweza kulandanishwa na hifadhidata
ya ndani ya OTRS, mpangilio orodha wa LDAP ni mfano wa mwisho wa
uthibitisho, kwa hiyo mtumiaji aliye lemaa aliye katika matawi ya LDAP
hawezi kujithibitisha kwenye OTRS, hata kama data za akaunti tayari
zimehifadhiwa kwenye hifadhidata ya OTRS. Data za wakala kwenye mpangilio
orodha wa LDAP haziwezi kuhaririwa kupitia kiolesura cha tovuti cha OTRS,
kwa hiyo data inabidi isimamiwe moja kwa moja katika matawi ya LDAP.
</p><p>
</p><pre class="programlisting">
# defines AuthSyncBackend (AuthSyncModule) for AuthModule
# if this key exists and is empty, there won't be a sync.
# example values: AuthSyncBackend, AuthSyncBackend2
$Self-&gt;{'AuthModule::UseSyncBackend'} = 'AuthSyncBackend';

# agent data sync against ldap
$Self-&gt;{'AuthSyncModule'} = 'Kernel::System::Auth::Sync::LDAP';
$Self-&gt;{'AuthSyncModule::LDAP::Host'} = 'ldap://ldap.example.com/';
$Self-&gt;{'AuthSyncModule::LDAP::BaseDN'} = 'dc=otrs, dc=org';
$Self-&gt;{'AuthSyncModule::LDAP::UID'} = 'uid';
$Self-&gt;{'AuthSyncModule::LDAP::SearchUserDN'} = 'uid=sys, ou=user, dc=otrs, dc=org';
$Self-&gt;{'AuthSyncModule::LDAP::SearchUserPw'} = 'some_pass';
$Self-&gt;{'AuthSyncModule::LDAP::UserSyncMap'} = {
    # DB -&gt; LDAP
    UserFirstname =&gt; 'givenName',
    UserLastname  =&gt; 'sn',
    UserEmail     =&gt; 'mail',
};
[...]

# AuthSyncModule::LDAP::UserSyncInitialGroups
# (sync following group with rw permission after initial create of first agent
# login)
$Self-&gt;{'AuthSyncModule::LDAP::UserSyncInitialGroups'} = [
    'users',
];
</pre><p>
</p><p>
<span class="emphasis"><em>Hati: Kulandanisha data za mtumiaji kutoka kwenye mpangilio orodha
wa LDAP kwenda kwenye hifadhidata ya OTRS.</em></span>
</p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="agent-auth-backend-httpbasic"></a>HTTPBasicAuth za Wakala</h5></div></div></div><p>
Kama unataka kutekeleza suluhisho la "saini moja kwenye" kwa mawakala wako
wote, unaweza kutumia uthibitisho msingi wa HTTP (kwa mifumo yako yote) na
moduli ya HTTPBasicAuth ya OTRS (ona Mfano 11-8 chini).
</p><div class="example"><a name="configuration-agent-auth-backend-htbasic"></a><p class="title"><b>Example 4.13. Halalisha Wakala kwa kutumia HTTPBasic</b></p><div class="example-contents"><p>
</p><pre class="programlisting">
# This is an example configuration for an apache ($ENV{REMOTE_USER})
# auth. backend. Use it if you want to have a singe login through
# apache http-basic-auth
$Self-&gt;{'AuthModule'} = 'Kernel::System::Auth::HTTPBasicAuth';

# Note:
#
# If you use this module, you should use as fallback
# the following configuration settings if the user is not authorized
# apache ($ENV{REMOTE_USER})
$Self-&gt;{LoginURL} = 'http://host.example.com/not-authorised-for-otrs.html';
$Self-&gt;{LogoutURL} = 'http://host.example.com/thanks-for-using-otrs.html';
</pre><p>
</p></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="agent-auth-backend-radius"></a>Nusukipenyo</h5></div></div></div><p>
Parameta za usanidi zilizoonyeshwa kwenye Mfano 11-9 zinaweza kutumika
kuthibitisha mawakala  katika seva ya Radius.
</p><div class="example"><a name="configuration-agent-auth-backend-radius"></a><p class="title"><b>Example 4.14. Thibitisha mawakala katika mazingira ya nyuma ya Radius.</b></p><div class="example-contents"><p>
</p><pre class="programlisting">
# This is example configuration to auth. agents against a radius server
$Self-&gt;{'AuthModule'} = 'Kernel::System::Auth::Radius';
$Self-&gt;{'AuthModule::Radius::Host'} = 'radiushost';
$Self-&gt;{'AuthModule::Radius::Password'} = 'radiussecret';
</pre><p>
</p></div></div><br class="example-break"></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="customer-auth-backends"></a>Mazingira ya nyuma ya kuthibitisha Wateja</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="customer-auth-backend-db"></a>Hifadhidata (Chaguo-msingi)</h5></div></div></div><p>
Chaguo-msingi la kithibitisho cha mtumiaji cha mazingira ya nyuma katika
OTRS ni hifadhidata ya OTRS. Kwa mazingira haya ya nyuma, unaweza kuhariri
data zote za mteja kupitia kiolesura cha wavuti cha OTRS (ona Mfano 11-10
chini).
</p><div class="example"><a name="configuration-customer-auth-backend-db"></a><p class="title"><b>Example 4.15. Uthibitisho wa mtumiaji mteja katika mazingira ya nyuma ya DB</b></p><div class="example-contents"><p>
</p><pre class="programlisting">
# This is the auth. module against the otrs db
$Self-&gt;{'Customer::AuthModule'} = 'Kernel::System::CustomerAuth::DB';
$Self-&gt;{'Customer::AuthModule::DB::Table'} = 'customer_user';
$Self-&gt;{'Customer::AuthModule::DB::CustomerKey'} = 'login';
$Self-&gt;{'Customer::AuthModule::DB::CustomerPassword'} = 'pw';
#$Self-&gt;{'Customer::AuthModule::DB::DSN'} = "DBI:mysql:database=customerdb;host=customerdbhost";
#$Self-&gt;{'Customer::AuthModule::DB::User'} = "some_user";
#$Self-&gt;{'Customer::AuthModule::DB::Password'} = "some_password";
</pre><p>
</p></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="customer-auth-backend-ldap"></a>LDAP</h5></div></div></div><p>
Kama una mpangilio orodha wa LDAP wenye data zako zote za mteja, unaweza
kutumia moduli ya LDAP kuthibitisha wateja wako katika OTRS (ona Mfano 11-11
chini). Kwa kuwa moduli hii ina uwezo wa kusoma tu kwa mazingira ya nyuma ya
LDAP, haiwezekani kuhariri data za mteja kupitia kiolesura cha wavuti cha
OTRS.
</p><div class="example"><a name="configuration-customer-auth-backend-ldap"></a><p class="title"><b>Example 4.16. Uthibitisho wa mtumiaji mteja katika mazingira ya nyuma ya LDAP</b></p><div class="example-contents"><p>
</p><pre class="programlisting">
# This is an example configuration for an LDAP auth. backend.
# (make sure Net::LDAP is installed!)
$Self-&gt;{'Customer::AuthModule'} = 'Kernel::System::CustomerAuth::LDAP';
$Self-&gt;{'Customer::AuthModule::LDAP::Host'} = 'ldap.example.com';
$Self-&gt;{'Customer::AuthModule::LDAP::BaseDN'} = 'dc=example,dc=com';
$Self-&gt;{'Customer::AuthModule::LDAP::UID'} = 'uid';

# Check if the user is allowed to auth in a posixGroup
# (e. g. user needs to be in a group xyz to use otrs)
$Self-&gt;{'Customer::AuthModule::LDAP::GroupDN'} = 'cn=otrsallow,ou=posixGroups,dc=example,dc=com';
$Self-&gt;{'Customer::AuthModule::LDAP::AccessAttr'} = 'memberUid';
# for ldap posixGroups objectclass (just uid)
$Self-&gt;{'Customer::AuthModule::LDAP::UserAttr'} = 'UID';
# for non ldap posixGroups objectclass (full user dn)
#$Self-&gt;{'Customer::AuthModule::LDAP::UserAttr'} = 'DN';

# The following is valid but would only be necessary if the
# anonymous user does NOT have permission to read from the LDAP tree
$Self-&gt;{'Customer::AuthModule::LDAP::SearchUserDN'} = '';
$Self-&gt;{'Customer::AuthModule::LDAP::SearchUserPw'} = '';

# in case you want to add always one filter to each ldap query, use
# this option. e. g. AlwaysFilter =&gt; '(mail=*)' or AlwaysFilter =&gt; '(objectclass=user)'
$Self-&gt;{'Customer::AuthModule::LDAP::AlwaysFilter'} = '';

# in case you want to add a suffix to each customer login name, then
# you can use this option. e. g. user just want to use user but
# in your ldap directory exists user@domain.
#$Self-&gt;{'Customer::AuthModule::LDAP::UserSuffix'} = '@domain.com';

# Net::LDAP new params (if needed - for more info see perldoc Net::LDAP)
$Self-&gt;{'Customer::AuthModule::LDAP::Params'} = {
    port =&gt; 389,
    timeout =&gt; 120,
    async =&gt; 0,
    version =&gt; 3,
};
</pre><p>
</p></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="customer-auth-backend-httpbasic"></a>HTTPBasicAuth  za wateja</h5></div></div></div><p>
Kama unataka kutekeleza suluhisho la "saini moja kwenye" kwa wateja
watumiaji wako wote, unaweza kutumia uthibitisho wa HTTPBasic (kwa mifumo
yako yote) na kutumia moduli ya HTTPBasicAuth na OTRS (hakuna kuingia
kunakohitajika na OTRS tena). Ona Mfano 11-12 chini.
</p><div class="example"><a name="configuration-customer-auth-backend-htbasic"></a><p class="title"><b>Example 4.17. Uthibitisho wa Mteja kwa kutumia HTTPBasic</b></p><div class="example-contents"><p>
</p><pre class="programlisting">
# This is an example configuration for an apache ($ENV{REMOTE_USER})
# auth. backend. Use it if you want to have a singe login through
# apache http-basic-auth
$Self-&gt;{'Customer::AuthModule'} = 'Kernel::System::CustomerAuth::HTTPBasicAuth';

# Note:
# If you use this module, you should use the following
# config settings as fallback, if user isn't login through
# apache ($ENV{REMOTE_USER})
$Self-&gt;{CustomerPanelLoginURL} = 'http://host.example.com/not-authorised-for-otrs.html';
$Self-&gt;{CustomerPanelLogoutURL} = 'http://host.example.com/thanks-for-using-otrs.html';
</pre><p>
</p></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="customer-auth-backend-radius"></a>Nusukipenyo</h5></div></div></div><p>
Mipangilio iliyoonyeshwa kwenye Mfano 11-13 inaweza kutumika kuthibitisha
wateja wako dhidi ya seva ya Radius.
</p><div class="example"><a name="configuration-customer-auth-backend-radius"></a><p class="title"><b>Example 4.18. Uthibitisho wa mtumiaji mteja katika mazingira ya nyuma ya Radius</b></p><div class="example-contents"><p>
</p><pre class="programlisting">
# This is a example configuration to auth. customer against a radius server
$Self-&gt;{'Customer::AuthModule'} = 'Kernel::System::Auth::Radius';
$Self-&gt;{'Customer::AuthModule::Radius::Host'} = 'radiushost';
$Self-&gt;{'Customer::AuthModule::Radius::Password'} = 'radiussecret';
</pre><p>
</p></div></div><br class="example-break"></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="customer-self-registration"></a>Kugeuza kukufaa usajili binafsi wa mteja</h3></div></div></div><p>
Inawezekana kugeuza kukufaa usajili binafsi kwa ajili ya wateja wapya,
inafikika kupitia paneli ya customer.pl. Sehemu mpya za hiari au
zinazohitajika, kama nambari ya chumba, anwani au hali zinaweza kuongezwa.
</p><p>
Mfano ufwatao unaonyesha jinsi unaweza kubainisha sehemu inayohitajika
katika hifadhidata ya mteja, katika kesi hii hifadhi nambari ya chumba cha
mteja.
</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="customer-self-registration-dtl"></a>Kugeuza kiolesura cha wavuti kukufaa</h4></div></div></div><p>
Kuonyesha sehemu mpya ya nambari ya chumba  katika kiolesura cha tovuti cha
customer.pl, faili la .dtl ambalo lina jukumu la muonekano katika hiki
kiolesura lazima libadilishwe. Hariri faili la
<code class="filename">Kernel/Output/HTML/Standard/CustomerLogin.dtl</code>, ongeza
sehemu mpya maeneo ya mstari wa 80 (ona Hati chini).
</p><p>
</p><pre class="programlisting">
[...]
&lt;div class="NewLine"&gt;
    &lt;label for="Room"&gt;$Text{"Room{CustomerUser}"}&lt;/label&gt;
    &lt;input title="$Text{"Room Number"}" name="Room" type="text" id="UserRoom" maxlength="50" /&gt;
&lt;/div&gt;
[...]
</pre><p>
</p><p>
<span class="emphasis"><em>Hati: Kuonyesha sehemu mpya katika kiolesura cha
wavuti.</em></span>
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="customer-self-registration-mapping"></a>Kuunganisha mteja</h4></div></div></div><p>
Katika hatua inayofuata, muunganiko wa mteja inabidi upanuliwe na ingizo
jipya kutoka kwenye nambari mpya. Kuhakikisha kwamba mabadiliko hayapotei
baada ya usasishaji, weka mipangilio ya "MtumiajiMteja" kutoka kwenye
<code class="filename">Kernel/Config/Defaults.pm</code> kwenda kwenye
<code class="filename">Kernel/Config.pm</code>. Sasa badilisha mkusanyiko wa RAMANI
na ongeza sehemu mpya ya nambari ya chumba, kama ilivyoonyeshwa kwenye hati
chini.
</p><p>
</p><pre class="programlisting">
# CustomerUser
# (customer database backend and settings)
$Self-&gt;{CustomerUser} = {
    Name =&gt; 'Database Backend',
    Module =&gt; 'Kernel::System::CustomerUser::DB',
    Params =&gt; {
        # if you want to use an external database, add the
        # required settings
#        DSN =&gt; 'DBI:odbc:yourdsn',
#        Type =&gt; 'mssql', # only for ODBC connections
#        DSN =&gt; 'DBI:mysql:database=customerdb;host=customerdbhost',
#        User =&gt; '',
#        Password =&gt; '',
        Table =&gt; 'customer_user',
    },
    # customer unique id
    CustomerKey =&gt; 'login',
    # customer #
    CustomerID =&gt; 'customer_id',
    CustomerValid =&gt; 'valid_id',
    CustomerUserListFields =&gt; ['first_name', 'last_name', 'email'],
#    CustomerUserListFields =&gt; ['login', 'first_name', 'last_name', 'customer_id', 'email'],
    CustomerUserSearchFields =&gt; ['login', 'last_name', 'customer_id'],
    CustomerUserSearchPrefix =&gt; '',
    CustomerUserSearchSuffix =&gt; '*',
    CustomerUserSearchListLimit =&gt; 250,
    CustomerUserPostMasterSearchFields =&gt; ['email'],
    CustomerUserNameFields =&gt; ['title', 'first_name', 'last_name'],
    CustomerUserEmailUniqCheck =&gt; 1,
#    # show not own tickets in customer panel, CompanyTickets
#    CustomerUserExcludePrimaryCustomerID =&gt; 0,
#    # generate auto logins
#    AutoLoginCreation =&gt; 0,
#    AutoLoginCreationPrefix =&gt; 'auto',
#    # admin can change customer preferences
#    AdminSetPreferences =&gt; 1,
#    # cache time to live in sec. - cache database queries
#    CacheTTL =&gt; 0,
#    # just a read only source
#    ReadOnly =&gt; 1,
    Map =&gt; [

        # note: Login, Email and CustomerID needed!
        # var, frontend, storage, shown (1=always,2=lite), required, storage-type, http-link, readonly, http-link-target
        [ 'UserTitle',      'Title',      'title',       1, 0, 'var', '', 0 ],
        [ 'UserFirstname',  'Firstname',  'first_name',  1, 1, 'var', '', 0 ],
        [ 'UserLastname',   'Lastname',   'last_name',   1, 1, 'var', '', 0 ],
        [ 'UserLogin',      'Username',   'login',       1, 1, 'var', '', 0 ],
        [ 'UserPassword',   'Password',   'pw',          0, 0, 'var', '', 0 ],
        [ 'UserEmail',      'Email',      'email',       1, 1, 'var', '', 0 ],
        [ 'UserCustomerID', 'CustomerID', 'customer_id', 0, 1, 'var', '', 0 ],
        [ 'UserPhone',      'Phone',      'phone',       1, 0, 'var', '', 0 ],
        [ 'UserFax',        'Fax',        'fax',         1, 0, 'var', '', 0 ],
        [ 'UserMobile',     'Mobile',     'mobile',      1, 0, 'var', '', 0 ],
        [ 'UserRoom',       'Room',       'room',        1, 0, 'var', '', 0 ],
        [ 'UserStreet',     'Street',     'street',      1, 0, 'var', '', 0 ],
        [ 'UserZip',        'Zip',        'zip',         1, 0, 'var', '', 0 ],
        [ 'UserCity',       'City',       'city',        1, 0, 'var', '', 0 ],
        [ 'UserCountry',    'Country',    'country',     1, 0, 'var', '', 0 ],
        [ 'UserComment',    'Comment',    'comments',    1, 0, 'var', '', 0 ],
        [ 'ValidID',        'Valid',      'valid_id',    0, 1, 'int', '', 0 ],
    ],
    # default selections
    Selections =&gt; {
        UserTitle =&gt; {
            'Mr.' =&gt; 'Mr.',
            'Mrs.' =&gt; 'Mrs.',
        },
    },
};
</pre><p>
</p><p>
<span class="emphasis"><em>Hati: Kubadilisha miunganiko ya mkusanyiko.</em></span>
</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="customer-self-registration-customer-table"></a>Kugeuza kukufaa jedwali la mteja_mtumiaji katika hifadhidata ya OTRS</h4></div></div></div><p>
Hatua ya mwisho ni kuongeza nambari mpya ya safuwima ya chumba katika
jedwali la mteja_mtumiaji kwenye hifadhidata ya OTRS (ona Kielelezo
chini). Katika safuwima hii, maingizo ya nambari ya chumba yatahifadhiwa.
</p><p>
</p><pre class="screen">
linux:~# mysql -p
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 6 to server version: 5.0.18-Debian_7-log

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt; use otrs;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql&gt; ALTER TABLE customer_user ADD room VARCHAR (200);
Query OK, 3 rows affected (0.01 sec)
Records: 3  Duplicates: 0  Warnings: 0

mysql&gt; quit
Bye
linux:~#
</pre><p>
</p><p>
<span class="emphasis"><em>Hati: Kuongeza safuwima mpya kwenye jedwali la
mteja_mtumiaji.</em></span>
</p><p>
Sasa sehemu mpya ya chumba lazima ionyeshwe katika paneli ya taarifa za
Mteja kama imejazwa, na kwenye skrini za usimamizi wa Mteja Mtumiaji. Pia,
wateja wapya wanatakiwa kuingiza namba zao za chumba kama wakisajili akaunti
mpya. Kama ukitumia OTRS katika Microsoft IIS, unatakiwa kuanzisha upya seva
ya tovuti kuamilisha mabadiliko yaliyofanywa katika
<code class="filename">Config.pm</code>.
</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="email-settings.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="administration.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ticket-settings.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Mpangilio wa barua pepe </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Mpangilio wa tiketi</td></tr></table></div></body></html>
