

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; OTRS Installation Guide 7.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/otrs.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Updating" href="updating.html" />
    <link rel="prev" title="OTRS Installation Guide" href="../index.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> OTRS Installation Guide
          

          
            
            <img src="../_static/otrs-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#preparation-disable-selinux">Preparation: Disable SELinux</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-1-unpack-and-install-the-application">Step 1: Unpack and Install the Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-2-install-additional-programs-and-perl-modules">Step 2: Install Additional Programs and Perl Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-3-create-the-otrs-user">Step 3: Create the OTRS User</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-4-activate-the-default-config-file">Step 4: Activate the Default Config File</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-5-configure-the-apache-web-server">Step 5: Configure the Apache Web Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-6-set-file-permissions">Step 6: Set File Permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-7-setup-the-database">Step 7: Setup the Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mysql">MySQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#postgresql">PostgreSQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#finishing-the-database-setup">Finishing the Database Setup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#step-8-setup-elasticsearch-cluster">Step 8: Setup Elasticsearch Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-9-start-the-otrs-daemon-and-web-server">Step 9: Start the OTRS Daemon and Web Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-10-first-login">Step 10: First Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-11-setup-systemd-files">Step 11: Setup Systemd Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-12-setup-bash-autocompletion-optional">Step 12: Setup Bash Autocompletion (optional)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-13-further-information">Step 13: Further Information</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="updating.html">Updating</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OTRS Installation Guide</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/content/installation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>This chapter describes the installation and basic configuration of the central OTRS framework.</p>
<p>Follow the detailed steps in this chapter to install OTRS on your server. You can then use its web interface to login and administer the system.</p>
<div class="section" id="preparation-disable-selinux">
<h2>Preparation: Disable SELinux<a class="headerlink" href="#preparation-disable-selinux" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If your system uses SELinux, you should disable it, otherwise OTRS will not work correctly.</p>
</div>
<p>Here’s how to disable SELinux for RHEL/CentOS/Fedora.</p>
<ol class="arabic">
<li><p class="first">Configure <code class="docutils literal notranslate"><span class="pre">SELINUX=disabled</span></code> in the <code class="docutils literal notranslate"><span class="pre">/etc/selinux/config</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># This file controls the state of SELinux on the system.</span>
<span class="c1"># SELINUX= can take one of these three values:</span>
<span class="c1">#       enforcing - SELinux security policy is enforced.</span>
<span class="c1">#       permissive - SELinux prints warnings instead of enforcing.</span>
<span class="c1">#       disabled - No SELinux policy is loaded.</span>
<span class="n">SELINUX</span><span class="o">=</span><span class="n">disabled</span>
<span class="c1"># SELINUXTYPE= can take one of these two values:</span>
<span class="c1">#       targeted - Targeted processes are protected,</span>
<span class="c1">#       mls - Multi Level Security protection.</span>
<span class="n">SELINUXTYPE</span><span class="o">=</span><span class="n">targeted</span>
</pre></div>
</div>
</li>
<li><p class="first">Reboot your system. After reboot, confirm that the <code class="docutils literal notranslate"><span class="pre">getenforce</span></code> command returns <em>Disabled</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">root</span><span class="o">&gt;</span> <span class="n">getenforce</span>
<span class="n">Disabled</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="step-1-unpack-and-install-the-application">
<h2>Step 1: Unpack and Install the Application<a class="headerlink" href="#step-1-unpack-and-install-the-application" title="Permalink to this headline">¶</a></h2>
<p>Unpack the source archive (for example, using <code class="docutils literal notranslate"><span class="pre">tar</span></code>) into the directory <code class="docutils literal notranslate"><span class="pre">/opt</span></code>, and rename the directory from <code class="docutils literal notranslate"><span class="pre">otrs-x.x.x</span></code> to <code class="docutils literal notranslate"><span class="pre">otrs</span></code> (see script below).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">root</span><span class="o">&gt;</span> <span class="n">tar</span> <span class="n">xzf</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">otrs</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="n">root</span><span class="o">&gt;</span> <span class="n">mv</span> <span class="n">otrs</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">x</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span>
</pre></div>
</div>
</div>
<div class="section" id="step-2-install-additional-programs-and-perl-modules">
<h2>Step 2: Install Additional Programs and Perl Modules<a class="headerlink" href="#step-2-install-additional-programs-and-perl-modules" title="Permalink to this headline">¶</a></h2>
<p>Use the following script to get an overview of all installed and required CPAN modules and other external dependencies.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">root</span><span class="o">&gt;</span> <span class="n">perl</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">otrs</span><span class="o">.</span><span class="n">CheckEnvironment</span><span class="o">.</span><span class="n">pl</span>
<span class="n">Checking</span> <span class="k">for</span> <span class="n">Perl</span> <span class="n">Modules</span><span class="p">:</span>
  <span class="n">o</span> <span class="n">Archive</span><span class="p">::</span><span class="n">Tar</span><span class="o">.....................</span><span class="n">ok</span> <span class="p">(</span><span class="n">v1</span><span class="o">.</span><span class="mi">90</span><span class="p">)</span>
  <span class="n">o</span> <span class="n">Archive</span><span class="p">::</span><span class="n">Zip</span><span class="o">.....................</span><span class="n">ok</span> <span class="p">(</span><span class="n">v1</span><span class="o">.</span><span class="mi">37</span><span class="p">)</span>
  <span class="n">o</span> <span class="n">Crypt</span><span class="p">::</span><span class="n">Eksblowfish</span><span class="p">::</span><span class="n">Bcrypt</span><span class="o">.......</span><span class="n">ok</span> <span class="p">(</span><span class="n">v0</span><span class="o">.</span><span class="mi">009</span><span class="p">)</span>
<span class="o">...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please note that OTRS requires a working Perl installation with all <em>core</em> modules such as the module <code class="docutils literal notranslate"><span class="pre">version</span></code>. These modules are not explicitly checked by the script. You may need to install a <code class="docutils literal notranslate"><span class="pre">perl-core</span></code> package on some systems like RHEL that do not install the Perl core packages by default.</p>
</div>
<p>OTRS requires a supported stable version of Node.js to be installed. Please refer to the <a class="reference external" href="https://nodejs.org/en/download/package-manager/">Node.js installation instructions</a>.</p>
</div>
<div class="section" id="step-3-create-the-otrs-user">
<h2>Step 3: Create the OTRS User<a class="headerlink" href="#step-3-create-the-otrs-user" title="Permalink to this headline">¶</a></h2>
<p>Create a dedicated user for OTRS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">root</span><span class="o">&gt;</span> <span class="n">useradd</span> <span class="o">-</span><span class="n">d</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span> <span class="o">-</span><span class="n">c</span> <span class="s1">&#39;OTRS user&#39;</span> <span class="n">otrs</span>
</pre></div>
</div>
</div>
<div class="section" id="step-4-activate-the-default-config-file">
<h2>Step 4: Activate the Default Config File<a class="headerlink" href="#step-4-activate-the-default-config-file" title="Permalink to this headline">¶</a></h2>
<p>There is one OTRS config file bundled in <code class="docutils literal notranslate"><span class="pre">$OTRS_HOME/Kernel/Config.pm.dist</span></code>. You must activate it by copying it without the <code class="docutils literal notranslate"><span class="pre">.dist</span></code> filename extension.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">root</span><span class="o">&gt;</span> <span class="n">cp</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span><span class="o">/</span><span class="n">Kernel</span><span class="o">/</span><span class="n">Config</span><span class="o">.</span><span class="n">pm</span><span class="o">.</span><span class="n">dist</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span><span class="o">/</span><span class="n">Kernel</span><span class="o">/</span><span class="n">Config</span><span class="o">.</span><span class="n">pm</span>
</pre></div>
</div>
</div>
<div class="section" id="step-5-configure-the-apache-web-server">
<h2>Step 5: Configure the Apache Web Server<a class="headerlink" href="#step-5-configure-the-apache-web-server" title="Permalink to this headline">¶</a></h2>
<p>OTRS comes with an own built-in web server that is used behind apache as a reverse proxy (or any other reverse proxy server). A few apache modules are needed for correct operation: <code class="docutils literal notranslate"><span class="pre">proxy_module</span></code>, <code class="docutils literal notranslate"><span class="pre">proxy_http_module</span></code> and <code class="docutils literal notranslate"><span class="pre">proxy_wstunnel_module</span></code>.</p>
<p>On some systems like Debian and SuSE, these modules need to be specifically enabled:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">root</span><span class="o">&gt;</span> <span class="n">a2enmod</span> <span class="n">proxy</span>
<span class="n">root</span><span class="o">&gt;</span> <span class="n">a2enmod</span> <span class="n">proxy_http</span>
<span class="n">root</span><span class="o">&gt;</span> <span class="n">a2enmod</span> <span class="n">proxy_wstunnel</span>
</pre></div>
</div>
<p>Most Apache installations have a <code class="docutils literal notranslate"><span class="pre">conf.d</span></code> directory included. On Linux systems you can usually find this directory under <code class="docutils literal notranslate"><span class="pre">/etc/apache</span></code> or <code class="docutils literal notranslate"><span class="pre">/etc/apache2</span></code>. Log in as root, change to the <code class="docutils literal notranslate"><span class="pre">conf.d</span></code> directory and
link the appropriate template in <code class="docutils literal notranslate"><span class="pre">/opt/otrs/scripts/apache2-httpd.include.conf</span></code> to a file called
<code class="docutils literal notranslate"><span class="pre">zzz_otrs.conf</span></code> in the Apache configuration directory (to make sure it is loaded after the other configurations).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Debian/Ubuntu:</span>
<span class="n">root</span><span class="o">&gt;</span> <span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">apache2</span><span class="o">-</span><span class="n">httpd</span><span class="o">.</span><span class="n">include</span><span class="o">.</span><span class="n">conf</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apache2</span><span class="o">/</span><span class="n">sites</span><span class="o">-</span><span class="n">enabled</span><span class="o">/</span><span class="n">zzz_otrs</span><span class="o">.</span><span class="n">conf</span>
</pre></div>
</div>
<p>Now you can restart your web server to load the new configuration settings. On most systems you can do that with the command <code class="docutils literal notranslate"><span class="pre">systemctl</span> <span class="pre">restart</span> <span class="pre">apache2.service</span></code>.</p>
</div>
<div class="section" id="step-6-set-file-permissions">
<h2>Step 6: Set File Permissions<a class="headerlink" href="#step-6-set-file-permissions" title="Permalink to this headline">¶</a></h2>
<p>Please execute the following command as root user to set the file and directory permissions for OTRS. It will try to detect the correct user and group settings needed for your setup.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">root</span><span class="o">&gt;</span> <span class="n">cd</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span><span class="o">/</span>
<span class="n">root</span><span class="o">&gt;</span> <span class="nb">bin</span><span class="o">/</span><span class="n">otrs</span><span class="o">.</span><span class="n">SetPermissions</span><span class="o">.</span><span class="n">pl</span>
</pre></div>
</div>
</div>
<div class="section" id="step-7-setup-the-database">
<h2>Step 7: Setup the Database<a class="headerlink" href="#step-7-setup-the-database" title="Permalink to this headline">¶</a></h2>
<p>The following steps need to be taken to setup the database for OTRS properly:</p>
<ul class="simple">
<li>Create a dedicated database user and database.</li>
<li>Create the database structure.</li>
<li>Insert the initial data.</li>
<li>Configure the database connection in <code class="docutils literal notranslate"><span class="pre">Kernel/Config.pm</span></code>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please note that OTRS requires utf8 as database storage encoding.</p>
</div>
<div class="section" id="mysql">
<h3>MySQL<a class="headerlink" href="#mysql" title="Permalink to this headline">¶</a></h3>
<p>Run the following commands in mysql as admin user:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mysql</span> <span class="o">-</span><span class="n">uroot</span> <span class="o">-</span><span class="n">p</span>

   <span class="c1"># Create database</span>
   <span class="n">CREATE</span> <span class="n">DATABASE</span> <span class="n">otrs</span> <span class="n">CHARACTER</span> <span class="n">SET</span> <span class="n">utf8</span><span class="p">;</span>

   <span class="c1"># Create database user</span>
   <span class="c1"># Special handling for MySQL 8, as the default caching_sha2_password can only be used over secure connections.</span>
   <span class="n">CREATE</span> <span class="n">USER</span> <span class="s1">&#39;otrs&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span> <span class="n">IDENTIFIED</span> <span class="n">WITH</span> <span class="n">mysql_native_password</span> <span class="n">BY</span> <span class="s1">&#39;choose-your-password&#39;</span><span class="p">;</span>
   <span class="c1"># Older mysql versions:</span>
   <span class="n">CREATE</span> <span class="n">USER</span> <span class="s1">&#39;otrs&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span> <span class="n">IDENTIFIED</span> <span class="n">BY</span> <span class="s1">&#39;choose-your-password&#39;</span><span class="p">;</span>

   <span class="c1"># Assign user privileges to the new database.</span>
   <span class="n">GRANT</span> <span class="n">ALL</span> <span class="n">PRIVILEGES</span> <span class="n">ON</span> <span class="n">otrs</span><span class="o">.*</span> <span class="n">TO</span> <span class="s1">&#39;otrs&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span><span class="p">;</span>
   <span class="n">FLUSH</span> <span class="n">PRIVILEGES</span><span class="p">;</span>
</pre></div>
</div>
<p>Run the following commands on the shell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create schema and insert data.</span>
<span class="n">mysql</span> <span class="o">-</span><span class="n">uroot</span> <span class="o">-</span><span class="n">p</span> <span class="n">otrs</span> <span class="o">&lt;</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">database</span><span class="o">/</span><span class="n">otrs</span><span class="o">-</span><span class="n">schema</span><span class="o">.</span><span class="n">mysql</span><span class="o">.</span><span class="n">sql</span>
<span class="n">mysql</span> <span class="o">-</span><span class="n">uroot</span> <span class="o">-</span><span class="n">p</span> <span class="n">otrs</span> <span class="o">&lt;</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">database</span><span class="o">/</span><span class="n">otrs</span><span class="o">-</span><span class="n">initial_insert</span><span class="o">.</span><span class="n">mysql</span><span class="o">.</span><span class="n">sql</span>
<span class="n">mysql</span> <span class="o">-</span><span class="n">uroot</span> <span class="o">-</span><span class="n">p</span> <span class="n">otrs</span> <span class="o">&lt;</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">database</span><span class="o">/</span><span class="n">otrs</span><span class="o">-</span><span class="n">schema</span><span class="o">-</span><span class="n">post</span><span class="o">.</span><span class="n">mysql</span><span class="o">.</span><span class="n">sql</span>
</pre></div>
</div>
<p>Configure database settings in <code class="docutils literal notranslate"><span class="pre">Kernel/Config.pm</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$Self-&gt;{DatabaseHost} = &#39;127.0.0.1&#39;;
$Self-&gt;{Database}     = &#39;otrs&#39;;
$Self-&gt;{DatabaseUser} = &#39;otrs&#39;;
$Self-&gt;{DatabasePw}   = &#39;choose-your-password&#39;;
$Self-&gt;{DatabaseDSN}  = &quot;DBI:mysql:database=$Self-&gt;{Database};host=$Self-&gt;{DatabaseHost};&quot;;
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The following configuration settings are recommended for MySQL setups. Please add the following lines to <code class="docutils literal notranslate"><span class="pre">/etc/my.cnf</span></code> under the [mysqld] section:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">max_allowed_packet</span>   <span class="o">=</span> <span class="mi">64</span><span class="n">M</span>
<span class="n">query_cache_size</span>     <span class="o">=</span> <span class="mi">32</span><span class="n">M</span>
<span class="n">innodb_log_file_size</span> <span class="o">=</span> <span class="mi">256</span><span class="n">M</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="postgresql">
<h3>PostgreSQL<a class="headerlink" href="#postgresql" title="Permalink to this headline">¶</a></h3>
<p>Run these commands as <code class="docutils literal notranslate"><span class="pre">postgres</span></code> user:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">su</span> <span class="o">-</span> <span class="n">postgres</span>

   <span class="c1"># Create database</span>
   <span class="n">createdb</span> <span class="o">--</span><span class="n">encoding</span><span class="o">=</span><span class="n">utf8</span> <span class="o">--</span><span class="n">owner</span><span class="o">=</span><span class="n">otrs</span> <span class="n">otrs</span>

   <span class="c1"># Create database user</span>
   <span class="n">echo</span> <span class="s2">&quot;create user otrs password &#39;choose-your-password&#39;;&quot;</span> <span class="o">|</span> <span class="n">psql</span>
</pre></div>
</div>
<p>Run these commands on the shell as <code class="docutils literal notranslate"><span class="pre">otrs</span></code> user.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create schema and insert data.</span>
<span class="n">export</span> <span class="n">PGPASSWORD</span><span class="o">=</span><span class="n">some</span><span class="o">-</span><span class="k">pass</span>
<span class="n">psql</span> <span class="n">otrs</span> <span class="n">otrs</span> <span class="o">-</span><span class="n">h</span> <span class="n">localhost</span> <span class="o">&lt;</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">database</span><span class="o">/</span><span class="n">otrs</span><span class="o">-</span><span class="n">schema</span><span class="o">.</span><span class="n">postgresql</span><span class="o">.</span><span class="n">sql</span>
<span class="n">psql</span> <span class="n">otrs</span> <span class="n">otrs</span> <span class="o">-</span><span class="n">h</span> <span class="n">localhost</span> <span class="o">&lt;</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">database</span><span class="o">/</span><span class="n">otrs</span><span class="o">-</span><span class="n">initial_insert</span><span class="o">.</span><span class="n">postgresql</span><span class="o">.</span><span class="n">sql</span>
<span class="n">psql</span> <span class="n">otrs</span> <span class="n">otrs</span> <span class="o">-</span><span class="n">h</span> <span class="n">localhost</span> <span class="o">&lt;</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">database</span><span class="o">/</span><span class="n">otrs</span><span class="o">-</span><span class="n">schema</span><span class="o">-</span><span class="n">post</span><span class="o">.</span><span class="n">postgresql</span><span class="o">.</span><span class="n">sql</span>
</pre></div>
</div>
<p>Configure database settings in <code class="docutils literal notranslate"><span class="pre">Kernel/Config.pm</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$Self-&gt;{DatabaseHost} = &#39;127.0.0.1&#39;;
$Self-&gt;{Database}     = &#39;otrs&#39;;
$Self-&gt;{DatabaseUser} = &#39;otrs&#39;;
$Self-&gt;{DatabasePw}   = &#39;choose-your-password&#39;;
$Self-&gt;{DatabaseDSN}  = &quot;DBI:Pg:dbname=$Self-&gt;{Database};host=$Self-&gt;{DatabaseHost};&quot;;
</pre></div>
</div>
</div>
<div class="section" id="finishing-the-database-setup">
<h3>Finishing the Database Setup<a class="headerlink" href="#finishing-the-database-setup" title="Permalink to this headline">¶</a></h3>
<p>To verify your database setup, run the following command (as <code class="docutils literal notranslate"><span class="pre">otrs</span></code> user):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otrs</span><span class="o">&gt;</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">otrs</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">pl</span> <span class="n">Maint</span><span class="p">::</span><span class="n">Database</span><span class="p">::</span><span class="n">Check</span>
<span class="n">Trying</span> <span class="n">to</span> <span class="n">connect</span> <span class="n">to</span> <span class="n">database</span> <span class="s1">&#39;DBI:Pg:dbname=otrs;host=localhost&#39;</span> <span class="k">with</span> <span class="n">user</span> <span class="s1">&#39;otrs&#39;</span><span class="o">...</span>
<span class="n">Connection</span> <span class="n">successful</span><span class="o">.</span>
</pre></div>
</div>
<p>Once the database is configured correctly, please initialize the system configuration with the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otrs</span><span class="o">&gt;</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">otrs</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">pl</span> <span class="n">Maint</span><span class="p">::</span><span class="n">Config</span><span class="p">::</span><span class="n">Rebuild</span>
<span class="n">Rebuilding</span> <span class="n">the</span> <span class="n">system</span> <span class="n">configuration</span><span class="o">...</span>
<span class="n">Done</span><span class="o">.</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For security reasons, please change the default password <code class="docutils literal notranslate"><span class="pre">root</span></code> of the admin user <code class="docutils literal notranslate"><span class="pre">root&#64;localhost</span></code>.</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otrs</span><span class="o">&gt;</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">otrs</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">pl</span> <span class="n">Admin</span><span class="p">::</span><span class="n">User</span><span class="p">::</span><span class="n">SetPassword</span> <span class="n">root</span><span class="nd">@localhost</span>
<span class="n">Generated</span> <span class="n">password</span> <span class="s1">&#39;rtB98S55kuc9&#39;</span><span class="o">.</span>
<span class="n">Successfully</span> <span class="nb">set</span> <span class="n">password</span> <span class="k">for</span> <span class="n">user</span> <span class="s1">&#39;root@localhost&#39;</span><span class="o">.</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="step-8-setup-elasticsearch-cluster">
<h2>Step 8: Setup Elasticsearch Cluster<a class="headerlink" href="#step-8-setup-elasticsearch-cluster" title="Permalink to this headline">¶</a></h2>
<p>OTRS requires an active cluster of Elasticsearch 6.0 or higher. The easiest way is to <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/setup.html">setup Elasticsearch</a> on the same host as OTRS and binding it to its default port. With that, no further configuration in OTRS is needed.</p>
<p>Additionally, OTRS requires plugins to be installed into Elasticsearch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install required plugins for elasticsearch.</span>
<span class="n">root</span><span class="o">&gt;</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">elasticsearch</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">elasticsearch</span><span class="o">-</span><span class="n">plugin</span> <span class="n">install</span> <span class="o">--</span><span class="n">batch</span> <span class="n">ingest</span><span class="o">-</span><span class="n">attachment</span>
<span class="n">root</span><span class="o">&gt;</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">elasticsearch</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">elasticsearch</span><span class="o">-</span><span class="n">plugin</span> <span class="n">install</span> <span class="o">--</span><span class="n">batch</span> <span class="n">analysis</span><span class="o">-</span><span class="n">icu</span>
</pre></div>
</div>
<p>To verify the Elasticsearch installation, you can use the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otrs</span><span class="o">&gt;</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">otrs</span><span class="o">.</span><span class="n">Console</span><span class="o">.</span><span class="n">pl</span> <span class="n">Maint</span><span class="p">::</span><span class="n">DocumentSearch</span><span class="p">::</span><span class="n">Check</span>
<span class="n">Trying</span> <span class="n">to</span> <span class="n">connect</span> <span class="n">to</span> <span class="n">cluster</span><span class="o">...</span>
  <span class="n">Connection</span> <span class="n">successful</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="step-9-start-the-otrs-daemon-and-web-server">
<h2>Step 9: Start the OTRS Daemon and Web Server<a class="headerlink" href="#step-9-start-the-otrs-daemon-and-web-server" title="Permalink to this headline">¶</a></h2>
<p>The new OTRS daemon is responsible for handling any asynchronous and recurring tasks in OTRS. The built-in OTRS web server process handles the web requests handed over from Apache. Both processes must be started from the <code class="docutils literal notranslate"><span class="pre">otrs</span></code> user.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">otrs</span><span class="o">&gt;</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">otrs</span><span class="o">.</span><span class="n">Daemon</span><span class="o">.</span><span class="n">pl</span> <span class="n">start</span>
<span class="n">otrs</span><span class="o">&gt;</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">otrs</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">otrs</span><span class="o">.</span><span class="n">WebServer</span><span class="o">.</span><span class="n">pl</span>
</pre></div>
</div>
</div>
<div class="section" id="step-10-first-login">
<h2>Step 10: First Login<a class="headerlink" href="#step-10-first-login" title="Permalink to this headline">¶</a></h2>
<p>Now you are ready to login to your system at <a class="reference external" href="http://localhost/otrs/index.pl">http://localhost/otrs/index.pl</a> as user <code class="docutils literal notranslate"><span class="pre">root&#64;localhost</span></code> with the password that was generated (see above).</p>
</div>
<div class="section" id="step-11-setup-systemd-files">
<h2>Step 11: Setup Systemd Files<a class="headerlink" href="#step-11-setup-systemd-files" title="Permalink to this headline">¶</a></h2>
<p>OTRS comes with example systemd configuration files that can be used to make sure that the OTRS daemon and web server are started automatically after the system starts.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>otrs&gt; cd /opt/otrs/scripts/systemd
otrs&gt; for UNIT in *.service; do cp -vf $UNIT /usr/lib/systemd/system/; systemctl enable $UNIT; done
</pre></div>
</div>
<p>With this step, the basic system setup is finished.</p>
</div>
<div class="section" id="step-12-setup-bash-autocompletion-optional">
<h2>Step 12: Setup Bash Autocompletion (optional)<a class="headerlink" href="#step-12-setup-bash-autocompletion-optional" title="Permalink to this headline">¶</a></h2>
<p>All regular OTRS commandline operations happen via the OTRS console interface <code class="docutils literal notranslate"><span class="pre">bin/otrs.Console.pl</span></code>. This provides an auto completion for the bash shell which makes finding the right command and options much easier.</p>
<p>You can activate the bash autocompletion by installing the package <code class="docutils literal notranslate"><span class="pre">bash-completion</span></code>. It will automatically detect and load the file <code class="docutils literal notranslate"><span class="pre">/opt/otrs/.bash_completion</span></code> for the <code class="docutils literal notranslate"><span class="pre">otrs</span></code> user.</p>
<p>After restarting your shell, you can just type <code class="docutils literal notranslate"><span class="pre">bin/otrs.Console.pl</span></code> followed by TAB, and it will list all available commands. If you type a few characters of the command name, TAB will show all matching commands. After typing a complete command, all possible options and arguments will be shown by pressing TAB.</p>
</div>
<div class="section" id="step-13-further-information">
<h2>Step 13: Further Information<a class="headerlink" href="#step-13-further-information" title="Permalink to this headline">¶</a></h2>
<p>We advise you to read the OTRS <a class="reference external" href="#performance-tuning">performance tuning chapter</a>.</p>
<p>Please have a look at the list of <a class="reference external" href="#additional-resources">additional resources</a> for information about OTRS Group, the creator of and service provider for <a class="reference external" href="https://www.otrs.com">OTRS</a>, and futher resources.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="updating.html" class="btn btn-neutral float-right" title="Updating" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral" title="OTRS Installation Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, OTRS AG

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>