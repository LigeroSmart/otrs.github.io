<html><head>
<!-- otrs.github.io -->
<link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../../../../../documentation.css">
<script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../../../../../documentation.js"></script>
<!-- otrs.github.io -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Dynamic Field Database</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="OTRS Business Solution™ Manual"><link rel="up" href="otrs-business-solution-features.html" title="Chapter 3. Features of OTRS Business Solution™"><link rel="prev" href="dynamicfield-contact-with-data.html" title="Contact with Data"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Dynamic Field Database</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="dynamicfield-contact-with-data.html">Prev</a> </td><th width="60%" align="center">Chapter 3. Features of <span class="bold"><strong>OTRS Business Solution</strong></span>™</th><td width="20%" align="right"> </td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a name="dynamicfield-database"></a>Dynamic Field Database</h2></div></div></div><div class="toc"><dl class="toc"><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.7.3">Description</a></span></dt><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.7.4">Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.7.4.3">Add a dynamic field 'Database'</a></span></dt><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.7.4.4">Configuration of the external source (Database)</a></span></dt><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.7.4.5">Configure dynamic fields of type 'Database' to be displayed in the agent interface</a></span></dt><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.7.4.6">Storage of historical data</a></span></dt><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.7.4.7">Sysconfig settings</a></span></dt><dd><dl><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.7.4.7.2">AutoComplete::Agent###DynamicFieldDatabaseSearch.</a></span></dt><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.7.4.7.3">Ticket::EventModulePost###950-StoreHistoricalData.</a></span></dt><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.7.4.7.4">DynamicFieldDatabase::StoreHistoricalData###1-SourceDynamicField1.</a></span></dt><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.7.4.7.5">DynamicFieldDatabase::StoreHistoricalData###2-TargetDynamicFields1.</a></span></dt><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.7.4.7.6">DynamicFieldDatabase::StoreHistoricalData###3-SourceDynamicField2.</a></span></dt><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.7.4.7.7">DynamicFieldDatabase::StoreHistoricalData###4-TargetDynamicFields2.</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.7.5">Usage</a></span></dt><dd><dl><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.7.5.3">Searching and saving datasets - Autocompletion</a></span></dt><dt><span class="section"><a href="dynamicfield-database.html#id-1.4.7.5.4">Searching and saving datasets - Detailed search</a></span></dt></dl></dd></dl></div><p>
        This feature implements a dynamic field of the type 'Database'.
    </p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id-1.4.7.3"></a>Description</h3></div></div></div><p>
            This feature implements a generic dynamic fieldtype, which offers the possibility to gather data from external databases.
            Such connected datasets can be searched and filtered using additional masks.
        </p><p>
            Related found and marked datasets can be saved to the particular tickets through the dynamic field.
        </p><p>
            'Database' dynamic fields can be created the same way default dynamic fields are created.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id-1.4.7.4"></a>Configuration</h3></div></div></div><p>
            The following list of configuration options can be used for this feature.
        </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.4.7.4.3"></a>Add a dynamic field 'Database'</h4></div></div></div><p>
                This feature implements a configuration interface to create dynamic fields of the type 'Database'.
            </p><p>
                'Database' dynamic fields can be created the same way default dynamic fields are created. For this switch to the
                ADMIN -&gt; Ticket Settings -&gt; Dynamic Fields view. In this mask you can select the 'Database' field from the ticket drop down box on the left side. Currently it's not possible to use the 'Database' dynamic field in the article context.
            </p><p>
                Configuration "General - Name":
                Dynamic fields of the type 'Database' need a unique name just like other dynamic fields, too. This name has to contain only alphanumeric values. This name will be used for internal handling of the field but will not be displayed.
            </p><p>
                Configuration "General - Label":
                The label can be individually set and can contain white spaces etc. It will be used as the field label in the different views.
            </p><p>
                Configuration "General - Field order":
                The field order allows a administrator to change the order of created dynamic fields. If this configuration get changed the general field order will be adjusted and other dynamic fields will be moved one position back.
            </p><p>
                Configuration "General - Valid":
                To use the dynamic field in the configured OTRS 'views' it has to be set as valid. If the field is set to 'invalid' it will disappear from all the configured views but no data will be lost.
            </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.4.7.4.4"></a>Configuration of the external source (Database)</h4></div></div></div><p>
                Before an external database can be searched and the results be saved at the ticket through the dynamic field,
                the credentials have to be stored in the configuration of the dynamic field.

                </p><div class="screenshot"><div><img src="screenshots/dynamicfield-database/AdminOverview.png"></div></div><p>
            </p><p>
                Type: The type of the desired database can be selected here. The field supports the default OTRS database
                types mysql, oracle, postgres or mssql.
            </p><p>
                SID: This option is only available for Oracle connections and will be shown or hidden automatically.
                Within this option you have to enter the SID of your Oracle connection.
            </p><p>
                Driver: This option is only available for ODBC connections and will be shown or hidden automatically.
                Within this option you enter the previously in the hostsystem configured ODBC driver to connect to the desired
                MSSQL database.
            </p><p>
                Server: The database host (hostname or IP-Address).
            </p><p>
                Port: The port of the database server.
            </p><p>
                Database: Defines the desired target database of the DBMS. This database will be used for queries.
            </p><p>
                Table / View: This table or view will be used for the queries.
            </p><p>
                User: The username for the database connection.
            </p><p>
                Password: The user password for the database connection.
            </p><p>
                Identifier: This select box will be automatically filled through "Possible Values (description below)". This
                field represents the value which will be stored in the dynamic field.
            </p><p>
                Multiselect: If this field is selected, it will be possible to store more than one value to the dynamic field.
                Those values will be stored comma seperated.
            </p><p>
                CacheTTL: This value defines the period of validity of the database cache in seconds. Equal queries to the database
                will be answered through the cache (local filesystem) within this period instead of asking the database again.
            </p><p>
                Searchprefix: This value will be put in the front of every search term while using the autocompletion to search the
                database. Wildcard characters are supported as well. The searchprefix will be ignored during the detailed search, but
                it is still possible to use wilcard characters in those masks.
            </p><p>
                Searchsuffix: This value will be put in the end of every search term while using the autocompletion to search the
                database. Wildcard characters are supported as well. The searchsuffix will be ignored during the detailed search, but
                it is still possible to use wilcard characters in those masks.
            </p><p>
                Result-Limit: The entered integer value defines the maximum amount of allowed results during a database search. This includes
                the autocompletion search as well as the detailed search.
            </p><p>
                Case Sensitive: If this field is selected, case-sensitivity will take effect on searches.
            </p><p>
                Possible values: As already explained the possible values will fill up the identifier field automatically, which
                defines the value that will be stored in the dynamic field. Possible values can be created as much as needed ( or at
                least as many table columns as the database table has.). The possible values defines the database columns to search
                in. It is possible to set the column name, a description (label) the fields should have, the needed datatype and if
                the field should be a search- or listfield.
            </p><p>
                Name: The exact name of the database column which will be requested through the database queries.
            </p><p>
                Description: The label of the field which will be displayed in the detailed search.
            </p><p>
                Datatype: The datatype which will be stored in the dynamic field. Possible values: TEXT, INTEGER or DATE.
            </p><p>
                Filter: With the filter field, it is possible to choose a ticket attribute or a dynamic field as a filter for the related
                column. If the dynamic field is bound to a related ticket, the attributes will be used for the filter mechanism, otherwise
                the filters will be ignored.

                If filter will be configured to a table column, only search results matching to the search term and the related ticket attribute
                on exactly the configured column will be displayed.
            </p><p>
                Searchfield: Indicates if a field should be included in the search requests.
            </p><p>
                Listfield: Indicates if a field should be displayed in the results.
            </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.4.7.4.5"></a>Configure dynamic fields of type 'Database' to be displayed in the agent interface</h4></div></div></div><p>
                Dynamic fields of type 'Database' have to be activated for the several masks in which they should be displayed
                like the other types of dynamic fields.
            </p><p>
                This can be done through ADMIN -&gt; System Administration -&gt; SysConfig, in which "Ticket" must be selected on the
                left hand site.
            </p><p>
                For every interface area (Frontend), in which the dynamic field of type 'Database' should be displayed, the admin
                has to configure it to fit his needs. Examples:
            </p><p>
                Frontend::Agent::Ticket::ViewZoom for the ticket zoom view.
            </p><p>
                Frontend::Agent::Ticket::ViewPhoneNew for new phone tickets
            </p><p>
                Frontend::Agent::Ticket::ViewEmailNew for new email tickets.
            </p><p>
                In each of these view configurations is a entry called "Ticket::Frontend::AgentTicket*###DynamicField".
                This configuration defines which dynamic field(s) should get displayed in this view. To add a dynamic field
                the internal name of the field has to be filled in the 'Key' field. The field 'Value' can take the values 0
                (deactivated), 1 (active) and 2 (active and mandatory).
            </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.4.7.4.6"></a>Storage of historical data</h4></div></div></div><p>
                This feature offers a functionality to store historical data. For this to work it´s necessary to activate and set SysConfig options,
                as visibly in the following screenshot:

                </p><div class="screenshot"><div><img src="screenshots/dynamicfield-database/SysConfigStoreHistoricalData.png"></div></div><p>
            </p><p>
                In the configuration option for the "SourceDynamicField" it´s needed to fill in the already created dynamic (Database) field name, which will
                be used to gather the historical data. In the related option "TargetDynamicField" the field(s) "Key" have to be filled with the table columns
                of the connected external database, which will be readout.
                For every column the related target dynamic field has to be configured in the field "content". The gathered data will be saved in these
                dynamic fields.
            </p><p>
                If the configuration is ready and active, the configured fields will be readout of the external database, since the source field gets a
                new value via the configured masks. The data will be searched by it´s stored identifier via an event module and the found values will be
                stored in the target dynamic fields.
            </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.4.7.4.7"></a>Sysconfig settings</h4></div></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.4.7.4.7.2"></a>AutoComplete::Agent###DynamicFieldDatabaseSearch.</h5></div></div></div><p>Group: Framework, Subgroup: Frontend::Agent.</p><p>
                    Defines the config options for the autocompletion feature.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.4.7.4.7.3"></a>Ticket::EventModulePost###950-StoreHistoricalData.</h5></div></div></div><p>Group: Ticket, Subgroup: Core::Ticket.</p><p>
                    Update dynamic fields, if configured ones will be updated.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.4.7.4.7.4"></a>DynamicFieldDatabase::StoreHistoricalData###1-SourceDynamicField1.</h5></div></div></div><p>Group: OTRSBusiness, Subgroup: Core.</p><p>
                    Defines the source dynamic field for storing historical data.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.4.7.4.7.5"></a>DynamicFieldDatabase::StoreHistoricalData###2-TargetDynamicFields1.</h5></div></div></div><p>Group: OTRSBusiness, Subgroup: Core.</p><p>
                    Defines the target dynamic fields for storing historical data.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.4.7.4.7.6"></a>DynamicFieldDatabase::StoreHistoricalData###3-SourceDynamicField2.</h5></div></div></div><p>Group: OTRSBusiness, Subgroup: Core.</p><p>
                    Defines the source dynamic field for storing historical data.
                </p></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="id-1.4.7.4.7.7"></a>DynamicFieldDatabase::StoreHistoricalData###4-TargetDynamicFields2.</h5></div></div></div><p>Group: OTRSBusiness, Subgroup: Core.</p><p>
                    Defines the target dynamic fields for storing historical data.
                </p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="id-1.4.7.5"></a>Usage</h3></div></div></div><p>
            An exemplary usage of DynamicField Database is as follows:
        </p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.4.7.5.3"></a>Searching and saving datasets - Autocompletion</h4></div></div></div><p>
                After the created dynamic fields are activated in the well known masks (like ViewPhoneNew, ViewEmailNew) a new textfield
                appears with the name, the dynamic field got in the configuration.
                In this field it is possible to input searchterms and therefore execute a search over all configured database fields or
                otherwise do a click on the link 'Detailed search' and start a detailled search in which the fields to search in are selected
                explicitly.

                </p><div class="screenshot"><div><img src="screenshots/dynamicfield-database/SearchFieldEmpty.png"></div></div><p>
            </p><p>
                Since search terms are typed in into the textfield, a database search will be started over the configured columns and the
                result will displayed via an autocompletion below the textfield. The more exact the search term is, the more exact will be
                the result (less result entries).

                </p><div class="screenshot"><div><img src="screenshots/dynamicfield-database/SearchFieldAutoCompletion.png"></div></div><p>
            </p><p>
                If the wished value will be displayed in the results, it can be selected via a mouse click or via the keyboard and
                therefore be added to the dynamic field results.

                </p><div class="screenshot"><div><img src="screenshots/dynamicfield-database/SearchFieldSelected.png"></div></div><p>
            </p><p>
                Via the link 'Details' a pop can be accessed, which offers detailed information about the whole result row. This information
                includes the line headers and the data. This information can be used to get an overview about the rest (of the not configured)
                columns or to compare data.
            </p><p>
                The added result entries can be removed via the minus button.
            </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="id-1.4.7.5.4"></a>Searching and saving datasets - Detailed search</h4></div></div></div><p>
                The link 'Detailed search' opens a new modal dialog to start a new database search. In this mask it is possible
                to select the fields to search on explicitly.

                </p><div class="screenshot"><div><img src="screenshots/dynamicfield-database/DetailedSearchMask.png"></div></div><p>
            </p><p>
                By default the first available field is activated, but it´s also possible to remove available fields or add
                additional ones. Only activated and filled fields are considered for the search. Wildcard characters '*' are allowed
                in every single field.
            </p><p>
                The database search will be executed via the button "Start search" and the results will be tabular displayed.
                If the search was successful, the results will be listed and one of the entries can be selected via a mouse click. The
                value will be added to the list of saved values afterwards.

                </p><div class="screenshot"><div><img src="screenshots/dynamicfield-database/DetailedSearchResult.png"></div></div><p>
            </p><p>
                Independent of using the autocompletion or the detailled search, every single result can just selected ones. It an agent
                tries to select a value multiple times, a related warning message is displayed.
            </p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="dynamicfield-contact-with-data.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="otrs-business-solution-features.html">Up</a></td><td width="40%" align="right"> </td></tr><tr><td width="40%" align="left" valign="top">Contact with Data </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>
