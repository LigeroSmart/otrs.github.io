(window.webpackJsonp=window.webpackJsonp||[]).push([[50,100],{"3m03":function(e,t,i){"use strict";i.r(t);i("W1QL"),i("K/PF"),i("75LO");var n=i("e+GP"),s=i.n(n),r=i("SDJZ"),a=i.n(r),o=i("NToG"),c=i.n(o),l=new(function(){function e(){a()(this,e)}return c()(e,[{key:"validate",value:function(e){return e&&"object"===s()(e)?Boolean(Object.keys(e).length):Boolean(e)}},{key:"errorMessage",value:function(){return"This field is required."}}]),e}());t.default=l},"6/sB":function(e){e.exports=[{name:"DataType.js"},{name:"DateTime.js"},{name:"FileUpload.js"},{name:"Pattern.js"},{name:"Required.js"}]},Iptl:function(e,t,i){"use strict";i("GkPX");var n=i("nS/B");t.a={components:{CommonNotice:function(){return i.e(115).then(i.bind(null,"mkLc"))},DocsExample:function(){return i.e(12).then(i.bind(null,"GD02"))},DocsComponentAPI:function(){return i.e(11).then(i.bind(null,"8txu"))}},computed:{doc:function(){var e=this.componentNamespace||"Components";return this.$store.getters.componentDoc[e][this.$options.name]||[]},summary:function(){return Object(n.b)(this.doc,"summary")},version:function(){return Object(n.b)(this.doc,"version")},description:function(){return Object(n.b)(this.doc,"description")},props:function(){return Object(n.a)(this.doc,"prop")},slots:function(){return Object(n.a)(this.doc,"slot")},events:function(){return Object(n.a)(this.doc,"event")},methods:function(){return Object(n.a)(this.doc,"method")}}}},OvAC:function(e,t){e.exports=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},RF5L:function(e,t,i){"use strict";i.r(t);i("4aJ6"),i("9ovy");var n=i("SDJZ"),s=i.n(n),r=i("NToG"),a=i.n(r),o=new(function(){function e(){s()(this,e)}return a()(e,[{key:"validate",value:function(e){return!!e.toString().match(/^\d{4}-\d{1,2}-\d{1,2}T\d{1,2}:\d{1,2}:\d{1,2}(.+)$/i)||!!e.toString().match(/^(\d{4})-(\d{1,2})-(\d{1,2})(\s(\d{1,2}):(\d{1,2})(:(\d{1,2}))?)?$/)}},{key:"errorMessage",value:function(){return"This field must contain a date in a valid format."}}]),e}());t.default=o},"e+GP":function(e,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t){return"function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?e.exports=n=function(e){return i(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},n(t)}e.exports=n},e1y0:function(e,t,i){"use strict";i.r(t);i("W1QL"),i("K/PF"),i("75LO");var n=i("e+GP"),s=i.n(n),r=(i("4aJ6"),i("9ovy"),i("SDJZ")),a=i.n(r),o=i("NToG"),c=i.n(o),l=new(function(){function e(){a()(this,e)}return c()(e,[{key:"validate",value:function(e,t){if(0===t.length)return!0;var i=t[0];return"Int"===i?e.toString().match(/^[+-]?[\d]+$/):"PositiveInt"===i?e.toString().match(/^\+?[\d]+$/):"NegativeInt"===i?e.toString().match(/^-[\d]+$/):"Num"===i?e.toString().match(/^[+-]?[\d]+\.?[\d]*$/):"PositiveNum"===i?e.toString().match(/^\+?[\d]+\.?[\d]*$/):"NegativeNum"===i?e.toString().match(/^-[\d]+\.?[\d]*$/):"Str"===i?"string"==typeof e:"StrWithData"===i?"string"==typeof e&&""!==e:"PerlPackage"===i||("MD5"===i?e.toString().match(/^[a-f0-9]{32}$/i):"SHA1"===i?e.toString().match(/^[a-f0-9]{40}$/i):"SHA256"===i?e.toString().match(/^[a-f0-9]{64}$/i):"UUID"===i?e.toString().match(/^[0-9A-F]{8}-[0-9A-F]{4}-[12345][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i):"IPv4"===i?e.toString().match(/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/m):"IPv6"===i?e.toString().match(/^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/):"HashRef"===i?"object"===s()(e):"HashRefWithData"===i?"object"===s()(e)&&Object.keys(e).length>0:"ArrayRefWithData"===i?e instanceof Array&&e.length>0:"EmailAddress"!==i||"string"==typeof e&&e.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))}},{key:"errorMessage",value:function(e){if(0===e.length)return"";var t=e[0];return"Int"===t?"This field must be an integer.":"PositiveInt"===t?"This field must be a positive integer.":"NegativeInt"===t?"This field must be a negative integer.":"Num"===t?"This field must be a number.":"PositiveNum"===t?"This field must be a positive number.":"NegativeNum"===t?"This field must be a negative number.":"Str"===t?"This field must be a string.":"StrWithData"===t?"This field must be a non-empty string.":"PerlPackage"===t?"":"MD5"===t?"This field must be a valid MD5 hash.":"SHA1"===t?"This field must be a valid SHA1 hash.":"SHA256"===t?"This field must be a valid SHA256 hash.":"UUID"===t?"This field must be a valid UUID value.":"IPv4"===t?"This field must be a valid IPv4 address.":"IPv6"===t?"This field must be a valid IPv6 address.":"HashRef"===t?"This field must be a hash reference.":"HashRefWithData"===t?"This field must be a hash reference with data.":"ArrayRefWithData"===t?"This field must be an array reference with data.":"EmailAddress"===t?"This field must be a valid email address.":"This field contains an invalid value."}}]),e}());t.default=l},gki9:function(e,t,i){var n=i("OvAC");e.exports=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),s.forEach(function(t){n(e,t,i[t])})}return e}},jKEF:function(e,t,i){"use strict";i.r(t);var n=i("Iptl"),s=(i("GkPX"),i("75LO"),i("W1QL"),i("K/PF"),i("gki9")),r=i.n(s),a=i("+J7U"),o=i.n(a),c=i("9va6"),l=(i("Z8gF"),i("J8hF"),i("R8iU")),d=i.n(l),u=i("6/sB"),m=function(){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.forEach(function(t){if(RegExp(/\.js$/).test(t.name)||t.items)if(t.items)r=e(t.items,n,"".concat(s).concat(t.name,"/"),r);else{var a=d.a.basename(t.name,".js");if("index"===a&&(a=d.a.basename(s.replace(/\/index\.js$/,"")),s=s.substr(0,s.length-a.length-1)),n&&!new RegExp("^".concat(n)).test(s))return;r[a]=i("ngLd")("./".concat(s).concat(a)).default}}),r}(u,"")},h={name:"Form",components:{CommonAlert:function(){return i.e(118).then(i.bind(null,"L3zo"))},FormGroup:function(){return i.e(119).then(i.bind(null,"yFPx"))}},props:{url:{type:String},params:{type:Object},propOverride:{type:Object},testMode:{type:Boolean,default:!1}},data:function(){return{schema:{},schemaId:null,values:{},errors:{},serverErrors:{},clientValidators:m(),formId:o()(),testSchema:{Fields:[{Name:"FormInput",Label:"Input field",Type:"FormInput",Placeholder:"This is a placeholder",Description:"This is an input field description.",Required:!0,Validators:["Required"]},{Name:"FormSelect",Label:"Select field",Type:"FormSelect",Placeholder:"Select...",Description:"This is a select field description.",Props:{Options:[{id:1,label:"Option 1"},{id:2,label:"Option 2"},{id:3,label:"Option 3"}]}},{Name:"FormTextArea",Label:"Text field",Type:"FormTextArea",Placeholder:"This is a placeholder",Description:"This is a text field description.",Required:!0,Validators:["Required"]},{Name:"FormCheckbox",Label:"Checkbox field",Type:"FormCheckbox",Description:"This is a checkbox field description."},{Name:"FormRadio",Label:"Radio field",Type:"FormRadio",Description:"This is a radio field description.",Props:{Options:[{text:"First choice",value:1},{text:"Second choice",value:2}]}}]}}},computed:{localPropOverride:function(){return r()({},this.propOverride,{formId:this.formId})},body:function(){return r()({},this.params,this.values,{FormID:this.formId})}},watch:{url:function(){this.getSchema()}},mounted:function(){this.getSchema()},methods:{setValue:function(e,t,i){var n=this.values[t];this.values[t]=i;var s=this.validateField(e,t,i);e.SubmitForm?s&&this.clientValidation(this.schema)&&this.submit():(e.UpdateForm&&this.getSchema({ChangedField:{Name:t,NewValue:i,OldValue:n}}),this.$emit("changed",this.body,{fullName:t,newValue:i,oldValue:n}))},getSchema:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.testMode?this.processSchema(this.testSchema):this.clientSendRequest({Path:this.url,Method:"post",Body:r()({},this.body,{Meta:t})}).then(function(t){e.processSchema(t.Body.Schema)}).catch(function(t){e.$log.error(t)})},processSchema:function(e){var t=this,i=e;this.schemaId=window.performance.now(),this.values={},this.initValues({Name:"",Fields:i.Fields}),this.schema=i,i.Fields.length&&this.$nextTick(function(){t.$emit("ready",t.body)}),this.errors&&this.clientValidation(this.schema,null,!0),this.$nextTick(function(){t.$test.setFlag("Form::Update",t.url)})},initValues:function(e){var t=this,i=e.Name.length>0?"".concat(e.Name,"."):"";e.Fields.forEach(function(e){"FormGroup"!==e.Type?t.$set(t.values,"".concat(i).concat(e.Name),e.Value):t.initValues({Name:i+e.Name,Fields:e.Config.Fields})})},submit:function(){var e=this;Object.keys(this.body).map(function(t){return void 0===e.body[t]&&(e.body[t]=null),e.body}),this.testMode?this.$emit("valid",this.body):this.clientSendRequest({Path:this.url,Method:"post",Body:this.body,Headers:{"X-OTRS-API-ValidateFormData":1}}).then(function(){e.$set(e,"errors",{}),e.$emit("valid",e.body),e.$nextTick(function(){e.$test.setFlag("Form::Valid",e.url)})}).catch(function(t){var i=t.response;i.Body.Errors&&(e.serverErrors=i.Body.Errors),i.Body.Schema&&(e.schema=i.Body.Schema,e.initValues({Name:"",Fields:e.schema.Fields})),422===i.Code&&e.showServerErrors(),e.$emit("invalid",t),e.$nextTick(function(){e.$test.setFlag("Form::Invalid",e.url)})})},showServerErrors:function(){var e=this;this.$set(this,"errors",{}),Object.keys(this.serverErrors).forEach(function(t){var i=Object(c.upperFirst)(Object(c.camelCase)(e.serverErrors[t].Validator)),n=e.clientValidators[i];if(n&&"function"==typeof n.errorMessage){var s=n.errorMessage(e.serverErrors[t].Attributes.Arguments);s&&e.$set(e.errors,t,s)}else e.serverErrors[t].Message&&e.$set(e.errors,t,[e.serverErrors[t].Message,e.serverErrors[t].Data])})},clientValidation:function(e,t,i){var n=this,s=!0;return e.Fields.forEach(function(e){var r;r=t?"".concat(t,".").concat(e.Name):e.Name,"FormGroup"===e.Type?n.clientValidation(e.Config,r,i)||(s=!1):i?n.errors[r]&&(n.validateField(e,r,n.values[r])||(s=!1)):n.validateField(e,r,n.values[r])||(s=!1)}),s},validateField:function(e,t,i){var n=this;if(this.errors[t]&&this.$delete(this.errors,t),void 0===e.Validators)return!0;var s=!1;return e.Validators.forEach(function(r){if(!s&&(e.Required||null!==i&&void 0!==i&&""!==i)){var a=[],o=r;r instanceof Object&&(o=r.Validator,a=r.Arguments),o=Object(c.upperFirst)(Object(c.camelCase)(o));var l=n.clientValidators[o];if(l&&"function"==typeof l.validate&&!l.validate(i,a)&&(s=!0,"function"==typeof l.errorMessage)){var d=l.errorMessage(a);d&&n.$set(n.errors,t,d)}}}),!s},resetForm:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&this.$set(this,"schema",{}),this.$set(this,"values",{}),this.formId=o()(),t&&this.getSchema(),this.$nextTick(function(){e.$set(e,"errors",{})})},onSubmit:function(){this.clientValidation(this.schema)&&this.submit()}}},f=i("psIG"),v=Object(f.a)(h,function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.schema.Fields?i("b-form",{key:e.schemaId,on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[e._t("before-form-fields"),e._v(" "),i("FormGroup",{attrs:{"set-value":e.setValue,fields:e.schema.Fields,errors:e.errors,"prop-override":e.localPropOverride},model:{value:e.values,callback:function(t){e.values=t},expression:"values"}}),e._v(" "),e._t("after-form-fields"),e._v(" "),e._t("submit-buttons")],2):e._e()},[],!1,null,null,null);v.options.__file="index.vue";var p=v.exports,b={name:"Form",mixins:[n.a],data:function(){return{docVersion:"1.0.1",componentNamespace:"Components",componentPath:"Components/Form",value:void 0,component:p,example:{url:{type:"input",default:"path/to/form/endpoint"},testMode:{default:!0}}}}},y=Object(f.a)(b,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main"},[i("h1",{staticClass:"design-system"},[e._v("\n        "+e._s(e.summary)+"\n        "),i("b-badge",{attrs:{variant:e.docVersion!==e.version?"warning":"info"}},[e._v(e._s(e.version))])],1),e._v(" "),i("p",[e._v("\n        "+e._s(e.description)+"\n    ")]),e._v(" "),e.docVersion!==e.version?[i("CommonNotice",{attrs:{text:"Please verify all changes to the component API have been properly documented\n                ("+e.docVersion+" !== "+e.version+").",title:"Documentation for this component is out of date!",type:"Warning"}})]:e._e(),e._v(" "),i("CommonNotice",{attrs:{type:"Warning",title:"Under construction",text:"Please be aware that the documentation of this component is currently under construction."}}),e._v(" "),i("b-tabs",{staticClass:"tab-content"},[i("b-tab",{staticClass:"tab-pane",attrs:{title:"Demo","title-link-class":"design-system",active:""}},[i("DocsExample",{attrs:{component:e.component,"component-path":e.componentPath,props:e.props,events:e.events,slots:e.slots,example:e.example},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),e._v(" "),i("b-tab",{attrs:{title:"Usage","title-link-class":"design-system"}},[i("h2",{staticClass:"design-system"},[e._v("Header Level 2")]),e._v(" "),i("ol",{staticClass:"design-system"},[i("li",[e._v("Lorem ipsum dolor sit amet, consectetuer adipiscing elit.")]),e._v(" "),i("li",[e._v("Aliquam tincidunt mauris eu risus.")])]),e._v(" "),i("b-container",{staticClass:"dosdonts",attrs:{fluid:""}},[i("b-row",[i("b-col",{attrs:{sm:"6"}},[i("div",[i("h5",{staticClass:"design-system"},[e._v("Do")]),e._v(" "),i("p",[e._v("Lorem ipsum dolor sit amet, consectetuer adipiscing ept.")])])]),e._v(" "),i("b-col",{attrs:{sm:"6"}},[i("div",[i("h5",{staticClass:"design-system"},[e._v("Don't")]),e._v(" "),i("p",[e._v("Lorem ipsum dolor sit amet, consectetuer adipiscing ept.")])])])],1)],1),e._v(" "),i("h3",{staticClass:"design-system"},[e._v("Header Level 3")]),e._v(" "),i("ul",{staticClass:"design-system"},[i("li",[e._v("Lorem ipsum dolor sit amet, consectetuer adipiscing elit.")]),e._v(" "),i("li",[e._v("Aliquam tincidunt mauris eu risus.")])])],1),e._v(" "),i("b-tab",{staticClass:"tab-pane",attrs:{title:"API Documentation","title-link-class":"design-system"}},[i("DocsComponentAPI",{attrs:{props:e.props,events:e.events,slots:e.slots,methods:e.methods}})],1)],1)],2)},[],!1,null,null,null);y.options.__file="Form.vue";t.default=y.exports},ngLd:function(e,t,i){var n={"./DataType":"e1y0","./DataType.js":"e1y0","./DateTime":"RF5L","./DateTime.js":"RF5L","./FileUpload":"xibV","./FileUpload.js":"xibV","./Pattern":"wGFV","./Pattern.js":"wGFV","./Required":"3m03","./Required.js":"3m03","./directory-index":"6/sB","./directory-index.json":"6/sB"};function s(e){var t=r(e);return i(t)}function r(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="ngLd"},wGFV:function(e,t,i){"use strict";i.r(t);i("4aJ6"),i("9ovy"),i("J8hF");var n=i("SDJZ"),s=i.n(n),r=i("NToG"),a=i.n(r),o=new(function(){function e(){s()(this,e)}return a()(e,[{key:"validate",value:function(e,t){if(0===t.length)return!0;var i;try{i=new RegExp(t[0])}catch(e){return!0}return e.toString().match(i)}},{key:"errorMessage",value:function(e){return e&&0!==e.length?["This field must match the configured pattern: %s",e]:"This field must match the configured pattern."}}]),e}());t.default=o},xibV:function(e,t,i){"use strict";i.r(t);var n=i("SDJZ"),s=i.n(n),r=i("NToG"),a=i.n(r),o=new(function(){function e(){s()(this,e)}return a()(e,[{key:"errorMessage",value:function(){return"This field must contain a valid file upload."}}]),e}());t.default=o}}]);