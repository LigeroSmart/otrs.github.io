(window.webpackJsonp=window.webpackJsonp||[]).push([[228],{"0OgS":function(t,a,s){"use strict";s.r(a);s("2Tod"),s("ABKx"),s("U8p0"),s("W1QL"),s("K/PF"),s("t91x"),s("75LO"),s("e2Kn");var e=s("OvAC"),n=s.n(e),o={methods:{switchToCustomer:function(t){var a=this;return this.clientSendRequest({Path:"/agent/auth/switchtouser",Method:"post",Body:{CustomerUserID:t}}).then(function(t){localStorage.setItem("OTRSSwitchToCustomer",t.Body.Token);var s=document.createElement("a"),e=a.$store.getters.serverInfo;s.href="".concat(e.protocol,"//").concat(e.hostname,":").concat(e.port).concat(e.prefixPath,"/external"),s.setAttribute("target","_blank"),document.body.appendChild(s),s.click(),s.remove()})}}},i=s("yBo+");function r(t,a){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);a&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,e)}return s}var l={name:"BusinessObjectPropertyCustomerUser",components:function(t){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?r(s,!0).forEach(function(a){n()(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(s).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}({CommonClock:function(){return s.e(58).then(s.bind(null,"X54R"))},CommonAvatarAgent:function(){return Promise.all([s.e(8),s.e(63)]).then(s.bind(null,"evpg"))},DynamicField:function(){return s.e(21).then(s.bind(null,"QAut"))}},Object(i.a)("Components/DynamicField/Value")),mixins:[o],props:{itemId:{type:[Number,String]}},data:function(){return{info:{}}},computed:{fetchDataUrl:function(){return null},dynamicFields:function(){return this.info.DynamicFields||[]},socialLinks:function(){return this.info.SocialLinks||[]},mapLinks:function(){return this.info.MapLinks||[]},ticketKPI:function(){return this.info.TicketKPI||{}},ticketKPIList:function(){var t=this,a=Object.keys(this.ticketKPI).filter(function(t){return"TotalTickets"!==t}).map(function(a){return t.ticketKPI[a]});return a.sort(function(t,a){return t.Title.localeCompare(a.Title)}),this.splitListByCols(a)},totalTicketKPI:function(){return this.ticketKPI.TotalTickets},userId:function(){return this.info.UserID},personalInfo:function(){return this.info.PersonalInfo?this.info.PersonalInfo:{}},preferences:function(){return this.info.Preferences?this.info.Preferences:{}},country:function(){return this.personalInfo.UserCountry?this.personalInfo.UserCountry:null},city:function(){return this.personalInfo.UserCity?this.personalInfo.UserCity:null},street:function(){return this.personalInfo.UserStreet?this.personalInfo.UserStreet:null},firstname:function(){return this.personalInfo.UserFirstname?this.personalInfo.UserFirstname:null},lastname:function(){return this.personalInfo.UserLastname?this.personalInfo.UserLastname:null},name:function(){var t=[];return this.firstname&&t.push(this.firstname),this.lastname&&t.push(this.lastname),t.join(" ")},timezone:function(){return this.preferences.UserTimeZone?this.preferences.UserTimeZone:null},language:function(){return this.preferences.UserLanguage?this.preferences.UserLanguage:null},avatar:function(){return this.preferences.UserAvatar?this.preferences.UserAvatar:null},title:function(){return this.personalInfo.UserTitle?this.personalInfo.UserTitle:null},chat:function(){return this.info.Chat?this.info.Chat:{}},switchToCustomerAvailable:function(){return this.info.SwitchToCustomer}},watch:{itemId:function(){this.fetchData()}},created:function(){this.itemId&&this.fetchData()},methods:{fetchData:function(){var t=this;this.itemId?this.clientSendRequest({Path:this.fetchDataUrl,Method:"get"}).then(function(a){t.info=a.Body,t.$nextTick(function(){t.$test.setFlag("WidgetPropertyFetch::CustomerUser::Data")})}).catch(function(a){t.$bus.$emit("showToastMessage",{id:"fetchCustomerPropertyData",heading:"Unable to fetch customer user data",text:"Please contact the administrator.",variant:"danger"}),t.$log.error("Fetching customer user data failed!",a)}):this.info={}},splitListByCols:function(t){var a=[],s=Math.ceil(t.length/2),e=[];return t.forEach(function(t){e.push(t),e.length>=s&&(a.push(e),e=[])}),e.length&&a.push(e),a},onStartVideoCall:function(){this.chat.IsVideoAvailable},onStartChat:function(){this.chat.IsOnline},onStartAudioCall:function(){this.chat.IsVideoAvailable},onCreatePhoneTicket:function(){},onCreateEmailTicket:function(){},onSwitchToCustomer:function(){this.switchToCustomer&&this.switchToCustomer(this.info.UserID)},onEditCustomerUser:function(){}}},c=(s("LhCp"),s("psIG")),m=Object(c.a)(l,function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("b-row",[t.userId?s("b-col",{staticClass:"mt-3 mt-xl-0 border bg-white InfoCard InfoCard__CustomerUser"},[s("b-row",[s("b-col",{staticClass:"py-2 border-bottom InfoCard__Header"},[s("h3",{staticClass:"p-0 m-0"},[t._v("\n                    "+t._s(t._f("translate")("Customer User"))+"\n                ")])])],1),t._v(" "),s("b-row",[s("b-col",{staticClass:"py-2 mx-3 px-0 border-bottom InfoCard__Contact"},[s("b-row",[s("b-col",{staticClass:"position-relative",attrs:{cols:"auto"}},[s("CommonAvatarAgent",{staticClass:"mt-0",attrs:{"user-type":"customer",image:t.avatar,user:{UserFirstname:t.firstname,UserLastname:t.lastname}}})],1),t._v(" "),s("b-col",[s("h4",{staticClass:"m-0"},[t._v("\n                            "+t._s(t.name)+"\n                        ")]),t._v("\n                        "+t._s(t.title)+"\n                        "),s("b-row",{staticClass:"mt-1"},[s("b-col",{attrs:{cols:"3"}},[s("CommonClock",{attrs:{timezone:t.timezone}})],1),t._v(" "),s("b-col",{attrs:{cols:"9"}},[s("b-row",[s("b-col",{staticClass:"pr-0",attrs:{cols:"auto"}},[s("CommonIcon",{attrs:{icon:"earth-3"}})],1),t._v(" "),s("b-col",{staticClass:"pl-2 pr-0"},[t._v("\n                                        "+t._s(t.language)+"\n                                    ")])],1)],1)],1)],1)],1)],1)],1),t._v(" "),s("b-row",[s("b-col",{staticClass:"py-2 mx-3 px-0 border-bottom InfoCard__Meta"},[s("b-row",{attrs:{"align-h":"start"}},[t.chat.Enabled?s("b-col",{attrs:{cols:"auto"}},[s("div",{staticClass:"InfoCard__Label"},[t._v("\n                            "+t._s(t._f("translate")("Chat"))+"\n                        ")]),t._v(" "),s("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t._f("translate")("Start video call")},on:{click:t.onStartVideoCall}},[s("CommonIcon",{class:{"CommonIcon--Disabled":!t.chat.IsVideoAvailable},attrs:{icon:"single-neutral-actions-mobilephone"}})],1),t._v(" "),s("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-2",attrs:{title:t._f("translate")("Start chat")},on:{click:t.onStartChat}},[s("CommonIcon",{class:{"CommonIcon--Disabled":!t.chat.IsOnline},attrs:{icon:"single-neutral-actions-chat"}})],1),t._v(" "),s("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-2",attrs:{title:t._f("translate")("Start audio call")}},[s("CommonIcon",{class:{"CommonIcon--Disabled":!t.chat.IsVideoAvailable},attrs:{icon:"single-neutral-actions-video"},on:{click:t.onStartAudioCall}})],1)],1):t._e(),t._v(" "),s("b-col",{attrs:{cols:"auto"}},[s("div",{staticClass:"InfoCard__Label"},[t._v("\n                            "+t._s(t._f("translate")("Create"))+"\n                        ")]),t._v(" "),s("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t._f("translate")("Create phone ticket")},on:{click:t.onCreatePhoneTicket}},[s("CommonIcon",{attrs:{icon:"phone-actions-add"}})],1),t._v(" "),s("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-2",attrs:{title:t._f("translate")("Create email ticket")},on:{click:t.onCreateEmailTicket}},[s("CommonIcon",{attrs:{icon:"email-action-add"}})],1)],1),t._v(" "),s("b-col",{attrs:{cols:"auto"}},[s("div",{staticClass:"InfoCard__Label"},[t._v("\n                            "+t._s(t._f("translate")("Action"))+"\n                        ")]),t._v(" "),t.switchToCustomerAvailable?s("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t._f("translate")("Switch to customer user")},on:{click:t.onSwitchToCustomer}},[s("CommonIcon",{attrs:{icon:"login-3"}})],1):t._e(),t._v(" "),s("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-2",attrs:{title:t._f("translate")("Edit customer user")},on:{click:t.onEditCustomerUser}},[s("CommonIcon",{attrs:{icon:"single-neutral-actions-edit-1"}})],1)],1),t._v(" "),t.mapLinks.length?s("b-col",{attrs:{cols:"auto"}},[s("div",{staticClass:"InfoCard__Label"},[t._v("\n                            "+t._s(t._f("translate")("Map"))+"\n                        ")]),t._v(" "),t._l(t.mapLinks,function(a,e){return s("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],key:a.Name,class:{"ml-2":e>0},attrs:{title:t._f("translate")(a.Title),link:a.URL,target:a.Target,"is-external":""}},[s("CommonIcon",{attrs:{"weight-with-icon":a.CommonIcon}})],1)})],2):t._e(),t._v(" "),t.socialLinks.length?s("b-col",{attrs:{cols:"auto"}},[s("div",{staticClass:"InfoCard__Label"},[t._v("\n                            "+t._s(t._f("translate")("Social"))+"\n                        ")]),t._v(" "),t._l(t.socialLinks,function(a,e){return s("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],key:a.Name,class:{"ml-2":e>0},attrs:{title:t._f("translate")(a.Title),link:a.URL,target:a.Target,"is-external":""}},[s("CommonIcon",{attrs:{"weight-with-icon":a.CommonIcon}})],1)})],2):t._e()],1)],1)],1),t._v(" "),s("b-row",[s("b-col",{staticClass:"py-2 mx-3 px-0 InfoCard__Status",class:{"border-bottom":t.dynamicFields.length}},[s("div",{staticClass:"mb-3 InfoCard__Headline"},[t._v("\n                    "+t._s(t._f("translate")("Customer User Status"))+"\n                ")]),t._v(" "),s("b-row",t._l(t.ticketKPIList,function(a,e){return s("b-col",{key:e,attrs:{md:"6"}},t._l(a,function(a){return s("b-row",{key:a.Name,staticClass:"mb-3",attrs:{"align-v":"center"}},[s("b-col",{staticClass:"InfoCard__DummyPie__Wrapper",attrs:{cols:"auto"}},[s("div",{staticClass:"p-0 m-0 InfoCard__DummyPie"})]),t._v(" "),s("b-col",{staticClass:"pl-0"},[s("span",{staticClass:"InfoCard__Label"},[t._v("\n                                    "+t._s(a.Title)+"\n                                ")]),t._v("\n                                -\n                                "),s("CommonLink",{attrs:{title:t._f("translate")(a.Title),link:a.URL}},[t._v("\n                                    "+t._s(a.Count)+"\n                                ")]),t._v(" "),t.totalTicketKPI?[t._v("\n                                    |\n                                    "),s("CommonLink",{attrs:{title:t._f("translate")(t.totalTicketKPI.Title),link:t.totalTicketKPI.URL}},[t._v("\n                                        "+t._s(t.totalTicketKPI.Count)+"\n                                    ")]),t._v("\n                                    "+t._s(t._f("translate")("total"))+"\n                                ")]:t._e()],2)],1)}),1)}),1),t._v(" "),s("b-row",[s("b-col",{attrs:{md:"6"}},[s("b-row",{staticClass:"mb-3",attrs:{"align-v":"center"}},[s("b-col",{staticClass:"InfoCard__DummyPie__Wrapper",attrs:{cols:"auto"}},[s("div",{staticClass:"p-0 m-0 InfoCard__DummyPie"})]),t._v(" "),s("b-col",{staticClass:"pl-0"},[s("span",{staticClass:"InfoCard__Label"},[t._v("\n                                    New\n                                ")]),t._v("\n                                - 237 open | 1200 total\n                            ")])],1),t._v(" "),s("b-row",{staticClass:"mb-3",attrs:{"align-v":"center"}},[s("b-col",{staticClass:"InfoCard__DummyPie__Wrapper",attrs:{cols:"auto"}},[s("div",{staticClass:"InfoCard__DummyPie"})]),t._v(" "),s("b-col",{staticClass:"pl-0"},[s("span",{staticClass:"InfoCard__Label"},[t._v("\n                                    Open Tickets\n                                ")]),t._v("\n                                - 785 open | 1200 total\n                            ")])],1),t._v(" "),s("b-row",{staticClass:"mb-3",attrs:{"align-v":"center"}},[s("b-col",{staticClass:"InfoCard__DummyPie__Wrapper",attrs:{cols:"auto"}},[s("div",{staticClass:"InfoCard__DummyPie"})]),t._v(" "),s("b-col",{staticClass:"pl-0"},[s("span",{staticClass:"InfoCard__Label"},[t._v("\n                                    GCS\n                                ")]),t._v("\n                                - 50 open | 60 closed\n                            ")])],1),t._v(" "),s("b-row",{staticClass:"mb-3",attrs:{"align-v":"center"}},[s("b-col",{staticClass:"InfoCard__DummyPie__Wrapper",attrs:{cols:"auto"}},[s("div",{staticClass:"InfoCard__DummyPie"})]),t._v(" "),s("b-col",{staticClass:"pl-0"},[s("span",{staticClass:"InfoCard__Label"},[t._v("\n                                    Financial\n                                ")]),t._v("\n                                - 92 open | 35 closed\n                            ")])],1),t._v(" "),s("b-row",{staticClass:"mb-3",attrs:{"align-v":"center"}},[s("b-col",{staticClass:"InfoCard__DummyPie__Wrapper",attrs:{cols:"auto"}},[s("div",{staticClass:"InfoCard__DummyPie"})]),t._v(" "),s("b-col",{staticClass:"pl-0"},[s("span",{staticClass:"InfoCard__Label"},[t._v("\n                                    Ipsum Lorum Ipdsy\n                                ")]),t._v("\n                                - 302 open | 1256 closed\n                            ")])],1),t._v(" "),s("b-row",{staticClass:"mb-3",attrs:{"align-v":"center"}},[s("b-col",{staticClass:"InfoCard__DummyPie__Wrapper",attrs:{cols:"auto"}},[s("div",{staticClass:"InfoCard__DummyPie"})]),t._v(" "),s("b-col",{staticClass:"pl-0"},[s("span",{staticClass:"InfoCard__Label"},[t._v("\n                                    Grep\n                                ")]),t._v("\n                                - 1723 open | 603 closed\n                            ")])],1)],1),t._v(" "),s("b-col",{attrs:{md:"6"}},[s("b-row",{staticClass:"mb-3",attrs:{"align-v":"center"}},[s("b-col",{staticClass:"InfoCard__DummyPie__Wrapper",attrs:{cols:"auto"}},[s("div",{staticClass:"InfoCard__DummyPie"})]),t._v(" "),s("b-col",{staticClass:"pl-0"},[s("span",{staticClass:"InfoCard__Label"},[t._v("\n                                    Open\n                                ")]),t._v("\n                                - 785 open | 1200 total\n                            ")])],1),t._v(" "),s("b-row",{staticClass:"mb-3",attrs:{"align-v":"center"}},[s("b-col",{staticClass:"InfoCard__DummyPie__Wrapper",attrs:{cols:"auto"}},[s("div",{staticClass:"InfoCard__DummyPie"})]),t._v(" "),s("b-col",{staticClass:"pl-0"},[s("span",{staticClass:"InfoCard__Label"},[t._v("\n                                    Sales\n                                ")]),t._v("\n                                - 50 open | 60 closed\n                            ")])],1),t._v(" "),s("b-row",{staticClass:"mb-3",attrs:{"align-v":"center"}},[s("b-col",{staticClass:"InfoCard__DummyPie__Wrapper",attrs:{cols:"auto"}},[s("div",{staticClass:"InfoCard__DummyPie"})]),t._v(" "),s("b-col",{staticClass:"pl-0"},[s("span",{staticClass:"InfoCard__Label"},[t._v("\n                                    Dev\n                                ")]),t._v("\n                                - 22 open | 44 closed\n                            ")])],1),t._v(" "),s("b-row",{staticClass:"mb-3",attrs:{"align-v":"center"}},[s("b-col",{staticClass:"InfoCard__DummyPie__Wrapper",attrs:{cols:"auto"}},[s("div",{staticClass:"InfoCard__DummyPie"})]),t._v(" "),s("b-col",{staticClass:"pl-0"},[s("span",{staticClass:"InfoCard__Label"},[t._v("\n                                    Lorum Ipsum Tralla\n                                ")]),t._v("\n                                - 10 open | 138 closed\n                            ")])],1),t._v(" "),s("b-row",{staticClass:"mb-3",attrs:{"align-v":"center"}},[s("b-col",{attrs:{cols:"auto"}},[s("div",{staticClass:"position-relative InfoCard__DummyPie2__Wrapper"},[s("div",{staticClass:"InfoCard__DummyPie2__Background"}),t._v(" "),s("div",{staticClass:"InfoCard__DummyPie2__Slice"},[s("div",{staticClass:"InfoCard__DummyPie2",staticStyle:{transform:"rotate(calc(25/100*360deg))"}})]),t._v(" "),s("div",{staticClass:"InfoCard__DummyPie2__Inner"})])]),t._v(" "),s("b-col",{staticClass:"pl-0"},[s("span",{staticClass:"InfoCard__Label"},[t._v("\n                                    Blup\n                                ")]),t._v("\n                                - 50 open | 60 closed\n                            ")])],1)],1)],1)],1)],1),t._v(" "),t.dynamicFields.length?s("b-row",[s("b-col",{staticClass:"py-2 mx-3 px-0 InfoCard__Information"},[s("div",{staticClass:"mb-3 InfoCard__Headline"},[t._v("\n                    "+t._s(t._f("translate")("Customer User Information"))+"\n                ")]),t._v(" "),s("b-row",[s("b-col",[s("ul",t._l(t.dynamicFields,function(t){return s("li",{key:t.Name},[s("DynamicField",{attrs:{"dynamic-field-config":t.Config,"dynamic-field":t.Value,type:"detail","value-label-class":"d-inline-block mr-1 InfoCard__Label"}})],1)}),0)])],1)],1)],1):t._e()],1):t._e()],1)},[],!1,null,null,null);a.default=m.exports},"A+zB":function(t,a,s){},LhCp:function(t,a,s){"use strict";var e=s("A+zB");s.n(e).a}}]);