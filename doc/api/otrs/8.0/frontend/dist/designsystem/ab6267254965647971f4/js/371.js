(window.webpackJsonp=window.webpackJsonp||[]).push([[371],{C7To:function(t,e,n){"use strict";n.r(e);var a=n("NthX"),r=n.n(a),i=(n("W1QL"),n("K/PF"),n("t91x"),n("e2Kn"),n("MYxt"),n("oMRA"),n("6d4m"),n("wcNg"),n("fFdx")),s=n.n(i),o=n("Tla7"),l=n("18g7"),c=n.n(l),u=n("UEq5");n("Z61/");var d={name:"StackedAreaChart",extends:o.default,methods:{prepareData:function(){var t=s()(r.a.mark(function t(){var e,n,a,i,s,o,l,c;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=0,null===this.resultDataRaw){t.next=30;break}this.resultDataRaw.shift(),this.headings=this.resultDataRaw.shift(),n=this.resultDataRaw.length,a=0;case 6:if(!(a<n)){t.next=30;break}if("Sum"!==(i=this.resultDataRaw[a])[0]){t.next=10;break}return t.abrupt("continue",27);case 10:s={key:i[0],color:this.colors[e%this.colors.length],disabled:!(!this.preferencesData||!this.preferencesData.Filter||this.preferencesData.Filter.includes(i[0])),values:[]},o=0;case 12:if(!(o<this.headings.length)){t.next=25;break}if(l=this.headings[o],0!==o){t.next=16;break}return t.abrupt("continue",22);case 16:if("Sum"!==l){t.next=18;break}return t.abrupt("continue",22);case 18:if(c=parseFloat(i[o]),!Number.isNaN(c)){t.next=21;break}return t.abrupt("continue",22);case 21:s.values.push([o,c]);case 22:o++,t.next=12;break;case 25:this.resultData.push(s),e++;case 27:a++,t.next=6;break;case 30:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),drawChart:function(){var t=s()(r.a.mark(function t(){var e=this;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u.addGraph(function(){var t=u.models.OTRSstackedAreaChart(e.$locale);try{t.staggerLabels(!0),t.margin({top:20,right:50,bottom:50,left:50}),t.duration(e.options.Duration||0),t.showLegend(e.showLegend),t.useInteractiveGuideline(!0),t.dispatch.on("stateChange",function(t){e.preferencesData={StackedArea:{}},void 0!==t.style&&(e.preferencesData.StackedArea.State={},e.preferencesData.StackedArea.State.Style=t.style),void 0!==t.disabled&&(e.preferencesData.StackedArea.Filter=e.getControlSelection(e.resultData)),e.$emit("graph-preferences-updated",e.preferencesData)}),t.x(function(t){return t[0]}).y(function(t){return t[1]}).showControls(!0).clipEdge(!0),e.headings[e.headings.indexOf("Sum")]=void 0,e.preferencesData&&e.preferencesData.State&&e.preferencesData.State.Style&&t.style(e.preferencesData.State.Style),t.xAxis.tickFormat(function(t){return e.headings[t]}),t.yAxis.tickFormat(c.a.format(",.0f")),c.a.select("div#".concat(e.chartId," svg.StatisticChart__Graphic")).datum(e.resultData).call(t),u.utils.windowResize(t.update)}catch(t){e.$log.error(t)}return t});case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}},f=n("psIG"),p=Object(f.a)(d,void 0,void 0,!1,null,null,null);e.default=p.exports},"Z61/":function(t,e){nv.models.OTRSstackedAreaChart=function(t){"use strict";var e,n,a=nv.models.stackedArea(),r=nv.models.axis(),i=nv.models.axis(),s=nv.models.legend(),o=nv.models.legend(),l=nv.interactiveGuideline(),c={top:30,right:25,bottom:50,left:60},u=null,d=null,f=nv.utils.defaultColor(),p=!0,h=!0,v=!0,g=!0,m=!1,x=!0,y=!1,k=!1,b=!0,w=function(t,e,n,a,r){return"<h3>"+t+"</h3><p>"+n+" - "+e+"</p>"},S=d3.format(",.2f"),A=nv.utils.state(),D=null,C=t.translate("No Data Available."),F=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),M=250,E=[t.translate("Stacked"),t.translate("Stream"),t.translate("Expanded")],I={},T=250;A.style=a.style(),r.orient("bottom").tickPadding(7).showMaxMin(!1),i.orient(m?"right":"left"),o.updateState(!1);var L=nv.utils.renderWatch(F),W=(a.style(),function(t,e){var n=t.pos[0]+(e.offsetLeft||0),s=t.pos[1]+(e.offsetTop||0),o=r.tickFormat()(a.x()(t.point,t.pointIndex)),l=i.tickFormat()(a.y()(t.point,t.pointIndex)),c=w(t.series.key,o,l,t,N);nv.tooltip.show([n,s],c,t.value<0?"n":"s",null,e)}),R=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:a.style()}}},G=function(t){return function(e){void 0!==e.style&&e.style,void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function N(w){return L.reset(),L.models(a),v&&L.models(r),g&&L.models(i),w.each(function(w){var L=d3.select(this),O=this;nv.utils.initSVG(L);var _,H=(u||parseInt(L.style("width"))||960)-c.left-c.right,K=(d||parseInt(L.style("height"))||400)-c.top-c.bottom;if("100%"===L.style("width")&&(H=212),N.update=function(){L.transition().duration(T).call(N)},N.container=this,A.setter(G(w),N.update).getter(R(w)).update(),A.disabled=w.map(function(t){return!!t.disabled}),!D)for(_ in D={},A)A[_]instanceof Array?D[_]=A[_].slice(0):D[_]=A[_];if(!(w&&w.length&&w.filter(function(t){return t.values.length}).length)){var V=L.selectAll(".nv-noData").data([C]);return V.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),V.attr("x",c.left+H/2).attr("y",c.top+K/2).text(function(t){return t}),N}L.selectAll(".nv-noData").remove(),e=a.xScale(),n=a.yScale();var Y=L.selectAll("g.nv-wrap.nv-stackedAreaChart").data([w]),X=Y.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),P=Y.select("g");if(X.append("rect").style("opacity",0),X.append("g").attr("class","nv-x nv-axis"),X.append("g").attr("class","nv-y nv-axis"),X.append("g").attr("class","nv-stackedWrap"),X.append("g").attr("class","nv-legendWrap"),X.append("g").attr("class","nv-controlsWrap"),X.append("g").attr("class","nv-interactive"),P.select("rect").attr("width",H).attr("height",K),h){var z=p?H-M:H;s.width(z),P.select(".nv-legendWrap").datum(w).call(s),c.top!=s.height()&&(c.top=s.height(),K=(d||parseInt(L.style("height"))||400)-c.top-c.bottom),P.select(".nv-legendWrap").attr("transform","translate("+(H-z)+","+-c.top+")")}if(p){var $=[{key:I.stacked||t.translate("Stacked"),metaKey:t.translate("Stacked"),disabled:"stack"!=a.style(),style:"stack"},{key:I.stream||t.translate("Stream"),metaKey:t.translate("Stream"),disabled:"stream"!=a.style(),style:"stream"},{key:I.expanded||t.translate("Expanded"),metaKey:t.translate("Expanded"),disabled:"expand"!=a.style(),style:"expand"},{key:I.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=a.style(),style:"stack_percent"}];M=E.length/3*260,$=$.filter(function(t){return-1!==E.indexOf(t.metaKey)}),o.width(M).color(["#444","#444","#444"]),P.select(".nv-controlsWrap").datum($).call(o),c.top!=Math.max(o.height(),s.height())&&(c.top=Math.max(o.height(),s.height()),K=(d||parseInt(L.style("height"))||400)-c.top-c.bottom),P.select(".nv-controlsWrap").attr("transform","translate(0,"+-c.top+")")}if(Y.attr("transform","translate("+c.left+","+c.top+")"),m&&P.select(".nv-y.nv-axis").attr("transform","translate("+H+",0)"),k&&(l.width(H).height(K).margin({left:c.left,top:c.top}).svgContainer(L).xScale(e),Y.select(".nv-interactive").call(l)),a.width(H).height(K),P.select(".nv-stackedWrap").datum(w).transition().call(a),v){r.scale(e).ticks(nv.utils.calcTicksX(H/100,w)).tickSize(-K,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+K+")"),P.select(".nv-x.nv-axis").transition().duration(0).call(r);var j=P.select(".nv-x.nv-axis > g").selectAll("g");if(j.selectAll("line, text").style("opacity",1),y){var J=function(t,e){return"translate("+t+","+e+")"};j.selectAll("text").attr("transform",function(t,e,n){return J(0,n%2==0?5:17)});var Z=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;P.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return J(0,0===e||Z%2!=0?17:5)})}x&&j.filter(function(t,e){return e%Math.ceil(w[0].values.length/(H/100))!=0}).selectAll("text, line").style("opacity",0)}g&&(i.scale(n).ticks("wiggle"==a.offset()?0:nv.utils.calcTicksY(K/36,w)).tickSize(-H,0).setTickFormat("expand"==a.style()||"stack_percent"==a.style()?d3.format("%"):S),P.select(".nv-y.nv-axis").transition().duration(0).call(i)),a.dispatch.on("areaClick.toggle",function(t){1===w.filter(function(t){return!t.disabled}).length?w.forEach(function(t){t.disabled=!1}):w.forEach(function(e,n){e.disabled=n!=t.seriesIndex}),A.disabled=w.map(function(t){return!!t.disabled}),F.stateChange(A),N.update()}),s.dispatch.on("stateChange",function(t){for(var e in t)A[e]=t[e];F.stateChange(A),N.update()}),o.dispatch.on("legendClick",function(t,e){t.disabled&&($=$.map(function(t){return t.disabled=!0,t}),t.disabled=!1,a.style(t.style),A.style=a.style(),F.stateChange(A),N.update())}),l.dispatch.on("elementMousemove",function(t){a.clearHighlights();var e,n,s,o=[];if(w.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(r,i){n=nv.interactiveBisect(r.values,t.pointXValue,N.x()),a.highlightPoint(i,n,!0);var l=r.values[n];if(void 0!==l){void 0===e&&(e=l),void 0===s&&(s=N.xScale()(N.x()(l,n)));var c="expand"==a.style()?l.display.y:N.y()(l,n);o.push({key:r.key,value:c,color:f(r,r.seriesIndex),stackedValue:l.display})}}),o.reverse(),o.length>2){var u=N.yScale().invert(t.mouseY),d=null;o.forEach(function(t,e){u=Math.abs(u);var n=Math.abs(t.stackedValue.y0),a=Math.abs(t.stackedValue.y);u>=n&&u<=a+n&&(d=e)}),null!=d&&(o[d].highlight=!0)}var p=r.tickFormat()(N.x()(e,n)),h="expand"==a.style()?function(t,e){return d3.format(".1%")(t)}:function(t,e){return i.tickFormat()(t)};l.tooltip.position({left:s+c.left,top:t.mouseY+c.top}).chartContainer(O.parentNode).enabled(b).valueFormatter(h).data({value:p,series:o})(),l.renderGuideLine(s)}),l.dispatch.on("elementMouseout",function(t){F.tooltipHide(),a.clearHighlights()}),F.on("tooltipShow",function(t){b&&W(t,O.parentNode)}),F.on("changeState",function(t){void 0!==t.disabled&&w.length===t.disabled.length&&(w.forEach(function(e,n){e.disabled=t.disabled[n]}),A.disabled=t.disabled),void 0!==t.style&&(a.style(t.style),t.style),N.update()})}),L.renderEnd("stacked Area chart immediate"),N}return a.dispatch.on("tooltipShow",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],F.tooltipShow(t)}),a.dispatch.on("tooltipHide",function(t){F.tooltipHide(t)}),F.on("tooltipHide",function(){b&&nv.tooltip.cleanup()}),N.dispatch=F,N.stacked=a,N.legend=s,N.controls=o,N.xAxis=r,N.yAxis=i,N.interactiveLayer=l,i.setTickFormat=i.tickFormat,N.dispatch=F,N.options=nv.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return h},set:function(t){h=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return g},set:function(t){g=t}},tooltips:{get:function(){return b},set:function(t){b=t}},tooltipContent:{get:function(){return w},set:function(t){w=t}},defaultState:{get:function(){return D},set:function(t){D=t}},noData:{get:function(){return C},set:function(t){C=t}},showControls:{get:function(){return p},set:function(t){p=t}},controlLabels:{get:function(){return I},set:function(t){I=t}},reduceXTicks:{get:function(){return x},set:function(t){x=t}},staggerLabels:{get:function(){return y},set:function(t){y=t}},yAxisTickFormat:{get:function(){return S},set:function(t){S=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return T},set:function(t){T=t,L.reset(T),a.duration(T),r.duration(T),i.duration(T)}},color:{get:function(){return f},set:function(t){f=nv.utils.getColor(t),s.color(f),a.color(f)}},rightAlignYAxis:{get:function(){return m},set:function(t){m=t,i.orient(m?"right":"left")}},useInteractiveGuideline:{get:function(){return k},set:function(t){k=!!t,t&&(N.interactive(!1),N.useVoronoi(!1))}}}),nv.utils.inheritOptions(N,a),nv.utils.initOptions(N),N}}}]);