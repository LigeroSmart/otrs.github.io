(window.webpackJsonp=window.webpackJsonp||[]).push([[103,10],{"3Hfo":function(t,n,a){"use strict";var e=a("8CHY");n.a={methods:{filter:function(t){var n=this,a="";return["label","description","localPlaceholder"].forEach(function(t){a+=n.$locale.translate(n[t])}),Object(e.a)(a,t)}}}},"5ZVq":function(t,n,a){"use strict";a.r(n);a("U8p0"),a("W1QL"),a("K/PF"),a("75LO");var e=a("3Hfo"),i=a("8CHY"),o={name:"FormNotificationEvents",components:{CommonCheckIcon:function(){return a.e(136).then(a.bind(null,"70Qt"))}},mixins:[e.a],props:{value:{type:Object},name:{type:String,default:""},label:{type:String},description:{type:String},error:{type:String},hidden:{type:Boolean,default:!1},transports:{type:Object,required:!0},notifications:{type:Object,required:!0}},data:function(){return{localValue:null,oldLocalValue:null}},computed:{transportsList:function(){var t=this;return Object.keys(this.transports).map(function(n){return t.transports[n]}).sort(function(t,n){return t.Prio-n.Prio})},notificationsList:function(){var t=this;return Object.keys(this.notifications).map(function(n){return t.notifications[n]}).sort(function(t,n){var a=t.Name.toLowerCase(),e=n.Name.toLowerCase();return a<e?-1:a>e?1:0})}},watch:{value:function(){this.buildLocalValue()}},created:function(){this.buildLocalValue()},methods:{onInput:function(t,n,a){this.setValue(t,n,a),this.emitValue()},onTransportInput:function(t,n){var a=this;this.notificationsList.forEach(function(e){a.isNotificationTransportDisabled(e,t)||a.setValue(e,t,n)}),this.emitValue()},buildLocalValue:function(){var t=this.value&&this.value instanceof Object?JSON.parse(JSON.stringify(this.value)):{};this.localValue=t,this.oldLocalValue=JSON.parse(JSON.stringify(t))},emitValue:function(){var t=this,n=function(){var n=JSON.parse(JSON.stringify(t.localValue)),a=JSON.parse(JSON.stringify(n));t.$emit("input",n,t.oldLocalValue),t.oldLocalValue=a};return this.oldLocalValue?Object.keys(this.localValue).length!==Object.keys(this.oldLocalValue).length?n():(Object.keys(this.localValue).forEach(function(a){return Object.prototype.hasOwnProperty.call(t.oldLocalValue,a)&&t.localValue[a]===t.oldLocalValue[a]||(n(),!1)}),null):n()},notificationTransportValue:function(t,n){if(this.isNotificationTransportDisabled(t,n))return!1;var a=this.localValue[t.ID]||{};return Object.prototype.hasOwnProperty.call(a,n.Name)?Boolean(a[n.Name]):Boolean(t.EnabledTransports[n.Name])},isNotificationTransportDisabled:function(t,n){return!t.Transports[n.Name]},isTransportDisabled:function(t){var n=this,a=!0;return this.notificationsList.forEach(function(e){return!!n.isNotificationTransportDisabled(e,t)||(a=!1,!1)}),a},transportValue:function(t){var n=this,a=!0;return this.notificationsList.forEach(function(e){var i=n.isNotificationTransportDisabled(e,t),o=n.notificationTransportValue(e,t);return!(!i&&!o)||(a=!1,!1)}),a},setValue:function(t,n,a){var e=this.localValue[t.ID]||{};e[n.Name]=a?1:0,this.$set(this.localValue,t.ID,e)},filter:function(t){var n=this,a="";return["label","description"].forEach(function(t){a+=n.$locale.translate(n[t])}),this.notificationsList.forEach(function(t){a+=t.Name+t.Description}),Object(i.a)(a,t)}}},r=(a("Fc5e"),a("psIG")),s=Object(r.a)(o,function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("b-form-group",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!hidden"}],attrs:{state:t.error?"invalid":null,"invalid-feedback":t._f("translate")(t.error)}},[a("table",{staticClass:"table table-sm"},[a("thead",[a("tr",[a("th",{staticClass:"LabelCol",attrs:{scope:"col"}},[a("label",[t._v(t._s(t._f("translate")(t.label)))]),t._v(" "),t.description?a("b-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.html",modifiers:{html:!0}}],attrs:{title:t._f("translate")(t.description)}},[a("CommonIcon",{staticClass:"mx-2",attrs:{icon:"info-circle"}})],1):t._e()],1),t._v(" "),a("th",{staticClass:"SelectAllCol"},[t._v("\n                    "+t._s(t._f("translate")("all/none"))+"\n                ")]),t._v(" "),t._l(t.transportsList,function(n){return a("th",{key:n.Name,staticClass:"IconCol text-center",attrs:{scope:"col"}},[a("CommonCheckIcon",{attrs:{title:n.Name,name:"Transport-"+n.Name,icon:n.Icon,disabled:t.isTransportDisabled(n),value:t.transportValue(n)},on:{input:function(a){t.onTransportInput(n,a)}}})],1)})],2)]),t._v(" "),a("tbody",t._l(t.notificationsList,function(n){return a("tr",{key:n.ID},[a("td",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.html",modifiers:{html:!0}}],attrs:{title:t._f("translate")(n.Description)}},[t._v("\n                    "+t._s(t._f("translate")(n.Name))+"\n                ")]),t._v(" "),a("td"),t._v(" "),t._l(t.transportsList,function(e){return a("td",{key:n.ID+"-"+e.Name,staticClass:"text-center"},[a("CommonCheckIcon",{attrs:{name:"Notification-"+n.ID+"-"+e.Name,icon:e.Icon,value:t.notificationTransportValue(n,e),disabled:t.isNotificationTransportDisabled(n,e)},on:{input:function(a){t.onInput(n,e,a)}}})],1)})],2)}))])])},[],!1,null,null,null);s.options.__file="FormNotificationEvents.vue";n.default=s.exports},Fc5e:function(t,n,a){"use strict";var e=a("q4rt");a.n(e).a},q4rt:function(t,n,a){}}]);