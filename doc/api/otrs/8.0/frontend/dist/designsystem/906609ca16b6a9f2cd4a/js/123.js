(window.webpackJsonp=window.webpackJsonp||[]).push([[123,7,21],{"+p0e":function(t,o,e){"use strict";e.r(o);e("GkPX"),e("IKQL");var n=e("gki9"),a=e.n(n),i=(e("W1QL"),e("K/PF"),e("t91x"),e("75LO"),e("+J7U")),l=e.n(i),s=e("9va6"),u=e("8CHY"),r=e("Q6E5"),c=e.n(r),m=e("3Hfo"),d=e("A86J"),h={name:"FormColumnsLayout",components:{VueDraggable:c.a},mixins:[d.a,m.a],props:{name:{type:String},value:{type:Object},hidden:{type:Boolean,default:!1},activeColumnLayout:{type:String,default:"OneColumn"},availableWidgets:{type:Object,default:function(){return{}}},label:{type:String},labelSrOnly:{type:Boolean,default:!1},description:{type:String},error:{type:String},hideDescription:{type:Boolean,default:!1}},data:function(){return{oldLocalValue:null,localActiveColumnLayout:this.activeColumnLayout,addingInCol:null}},computed:{fieldId:function(){return"formColumnsLayout-".concat(this._uid)},localValue:{get:function(){return this.value},set:function(t,o){this.$emit("input",t,o)}},isOneColumnLayout:function(){return"OneColumn"===this.localActiveColumnLayout},isTwoColumnsLayout:function(){return"TwoColumns"===this.localActiveColumnLayout},isThreeColumnsLayout:function(){return"ThreeColumns"===this.localActiveColumnLayout},columnLayoutConfig:function(){return this.localValue.ColumnLayout[this.localActiveColumnLayout]||this.$set(this.localValue.ColumnLayout,this.localActiveColumnLayout,{}),this.localValue.ColumnLayout[this.localActiveColumnLayout]},availableWidgetsList:function(){var t=this;return Object.keys(this.availableWidgets).map(function(o){return a()({Name:o},t.availableWidgets[o])})},columns:function(){return new Array({OneColumn:1,TwoColumns:2,ThreeColumns:3}[this.localActiveColumnLayout]).fill().map(function(t,o){return o+1})},realLabel:function(){return this.label===this.name?null:this.label}},watch:{activeColumnLayout:function(t){this.localActiveColumnLayout=t}},methods:{switchLayout:function(t){this.addingInCol=null,this.localActiveColumnLayout=t},widgets:function(t){this.columnLayoutConfig[t]||this.$set(this.localValue.ColumnLayout[this.localActiveColumnLayout],t,{});var o=this.columnLayoutConfig[t];return o||this.$set(o,[]),o},setWidgets:function(t,o){this.columnLayoutConfig[t]=o,this.emitValue()},deleteWidget:function(t,o){var e=this;this.$bus.$emit("showModalMessage",{id:"deleteColumnConfigWidgetOne",heading:"Delete widget",text:"Do you really want to remove this widget?",buttonBehavior:"yesNo",okCallback:function(){e.columnLayoutConfig[t].splice(o,1),e.emitValue()}})},openWidgetSelection:function(t){t!==this.addingInCol?this.addingInCol=t:this.addingInCol=null},addWidget:function(t){this.columnLayoutConfig[this.addingInCol].push(a()({},t,{ID:l()()})),this.emitValue()},emitValue:function(){Object(s.isEqual)(this.localValue,this.oldLocalValue)||(this.$emit("input",this.localValue,this.oldLocalValue),this.$emit("changed",this.localValue,this.oldLocalValue),this.oldLocalValue=Object(s.cloneDeep)(this.localValue))},colMDForSection:function(t){return{OneColumn:{container:12,widgetName:11,deleteButton:1},TwoColumns:{container:6,widgetName:10,deleteButton:2},ThreeColumns:{container:4,widgetName:9,deleteButton:3}}[this.localActiveColumnLayout][t]},isTheLastColumn:function(t){return t>1&&t===this.columns.length},filter:function(t){var o=this,e="";return["label","description"].forEach(function(t){e+=o.$locale.translate(o[t])}),Object.keys(this.availableWidgets).forEach(function(t){var n=o.availableWidgets[t];e+=o.$locale.translate(n.Title)}),Object(u.a)(e,t)}}},C=(e("oswe"),e("psIG")),f=Object(C.a)(h,function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("b-form-group",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!hidden"}],staticClass:"ColumnsConfig",attrs:{state:Boolean(t.error)?"invalid":null,label:t._f("translate")(t.realLabel),"label-for":t.fieldId,"label-sr-only":t.labelSrOnly,description:t._f("translate")(t.description),"invalid-feedback":t._f("translate")(t.error),"aria-label":t._f("translate")(t.label)}},[t.realLabel&&t.description&&t.hideDescription?[e("template",{slot:"label"},[t._v("\n            "+t._s(t._f("translate")(t.realLabel))+"\n            "),e("b-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.html",modifiers:{html:!0}}],attrs:{title:t._f("translate")(t.description)}},[e("CommonIcon",{staticClass:"mx-2 Font--Small",attrs:{weight:"regular",icon:"messages-bubble-square-information"}})],1)],1),t._v(" "),e("template",{slot:"description"},[e("small",{staticClass:"sr-only"},[t._v("\n                "+t._s(t._f("translate")(t.description))+"\n            ")])])]:t._e(),t._v(" "),e("b-row",{staticClass:"border-bottom pb-2",attrs:{"align-v":"center"}},[e("b-col",{staticClass:"ColumnLayoutSwitch",attrs:{md:"12"}},[e("span",{staticClass:"mr-2"},[t._v("\n                "+t._s(t._f("translate")("Select the layout you want to edit"))+"\n            ")]),t._v(" "),e("CommonLink",{directives:[{name:"focus",rawName:"v-focus",value:t.autoFocus,expression:"autoFocus"},{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"Icon--OpenOneColumnView mr-2",class:{ActiveColumnLayout:t.isOneColumnLayout},attrs:{title:t._f("translate")("Settings for one-column layout")},on:{click:function(o){return t.switchLayout("OneColumn")}}},[e("CommonIcon",{attrs:{icon:"layout-top"}})],1),t._v(" "),e("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"Icon--OpenTwoColumsView mr-2",class:{ActiveColumnLayout:t.isTwoColumnsLayout},attrs:{title:t._f("translate")("Settings for two-column layout")},on:{click:function(o){return t.switchLayout("TwoColumns")}}},[e("CommonIcon",{attrs:{icon:"layout-4"}})],1),t._v(" "),e("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"Icon--OpenThreeColumsView",class:{ActiveColumnLayout:t.isThreeColumnsLayout},attrs:{title:t._f("translate")("Settings for three-column layout")},on:{click:function(o){return t.switchLayout("ThreeColumns")}}},[e("CommonIcon",{attrs:{icon:"layout-3"}})],1)],1)],1),t._v(" "),e("b-row",{staticClass:"pt-2",attrs:{"align-v":"center"}},[e("b-col",[t._v("\n            "+t._s(t._f("translate")("You are editing the %s column layout",t.columns.length))+"\n        ")])],1),t._v(" "),e("b-row",{staticClass:"mt-2",attrs:{"no-gutters":""}},t._l(t.columns,function(o){return e("b-col",{key:o,staticClass:"ColumnLayoutSettings__Box p-3",attrs:{cols:t.colMDForSection("container")}},[e("b-row",{attrs:{"no-gutters":""}},[e("b-col",[e("VueDraggable",{attrs:{value:t.widgets(o),group:"threeColumnLayout",animation:"200","ghost-class":"DragDropGhost",handle:".FormColumnsLayout__DragAndDrop"},on:{input:function(e){return t.setWidgets(o,e)}}},t._l(t.widgets(o),function(n,a){return e("b-row",{key:n.ID,staticClass:"mb-2",attrs:{"no-gutters":"","align-v":"center"}},[e("b-col",{attrs:{md:t.colMDForSection("widgetName")}},[e("b-row",{staticClass:"p-2 ColumnLayoutSettings__Item",attrs:{"no-gutters":""}},[e("b-col",{staticClass:"pl-2 text-truncate",attrs:{md:"10",title:t._f("translate")(n.Title)}},[t._v("\n                                        "+t._s(t._f("translate")(n.Title))+"\n                                    ")]),t._v(" "),e("b-col",{staticClass:"pr-2 text-right",attrs:{md:"2",lg:"2"}},[e("CommonIcon",{staticClass:"FormColumnsLayout__DragAndDrop",attrs:{icon:"direction-button-arrows"}})],1)],1)],1),t._v(" "),e("b-col",{staticClass:"text-center",attrs:{md:t.colMDForSection("deleteButton")}},[e("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"Color--Alert Delete",attrs:{title:t._f("translate")("Delete widget")},on:{click:function(e){return t.deleteWidget(o,a)}}},[e("CommonIcon",{attrs:{weight:"regular",icon:"bin-2-alternate"}})],1)],1)],1)}),1),t._v(" "),e("b-row",{staticClass:"mt-2 text-center",attrs:{"no-gutters":""}},[e("b-col",{staticClass:"position-relative"},[t.addingInCol===o?e("div",{staticClass:"ColumnLayoutSettings__AddLayer position-absolute",class:{"ColumnLayoutSettings__AddLayer--inverted":t.isTheLastColumn(o)}},t._l(t.availableWidgetsList,function(o){return e("b-row",{key:o.Name,staticClass:"my-2 mx-1",attrs:{"no-gutters":""}},[e("b-col",{staticClass:"text-truncate"},[e("CommonLink",{staticClass:"d-block ColumnLayoutSettings__Item",on:{click:function(e){return t.addWidget(o)}}},[t._v("\n                                            "+t._s(t._f("translate")(o.Title))+"\n                                        ")])],1)],1)}),1):t._e(),t._v(" "),e("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ColumnLayoutSettings__AddButton",class:{"ColumnLayoutSettings__AddButton--Active":t.addingInCol===o},attrs:{title:t._f("translate")("Add new widget")},on:{click:function(e){return t.openWidgetSelection(o)}}},[e("CommonIcon",{staticClass:"icon",attrs:{weight:"bold",icon:t.addingInCol==o?"close":"add"}})],1)],1)],1)],1)],1)],1)}),1),t._v(" "),e("b-row",{staticClass:"my-2"},[e("b-col",{staticClass:"text-left",attrs:{cols:"8"}},[e("p",{staticClass:"m-0"},[t._v("\n                "+t._s(t._f("translate")("Here you can design the column layout of the detail view according to your requirements."))+"\n            ")]),t._v(" "),e("p",{staticClass:"m-0"},[t._v("\n                "+t._s(t._f("translate")("Please press the add button at the bottom to add a widget you want to get displayed."))+"\n            ")]),t._v(" "),e("p",{staticClass:"m-0"},[t._v("\n                "+t._s(t._f("translate")("You can remove a widget by clicking the trash icon."))+"\n            ")]),t._v(" "),e("p",{staticClass:"m-0"},[t._v("\n                "+t._s(t._f("translate")("You can change the settings of each widget directly from itself."))+"\n            ")])])],1),t._v(" "),e("div",{staticClass:"p-2 Hint"},[e("b-row",[e("b-col",{attrs:{cols:"10"}},[e("CommonIcon",{attrs:{icon:"study-light-idea",decorative:""}}),t._v("\n                "+t._s(t._f("translate")("Hint: You can add widgets multiple times. Each widget has its own settings."))+"\n            ")],1),t._v(" "),e("b-col",{staticClass:"text-right",attrs:{cols:"2"}},[e("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t._f("translate")("Hide the hint")}},[e("CommonIcon",{attrs:{weight:"bold",icon:"close"}})],1)],1)],1)],1)],2)},[],!1,null,null,null);o.default=f.exports},"3Hfo":function(t,o,e){"use strict";var n=e("8CHY");o.a={methods:{filter:function(t){var o=this,e="";return["label","description","localPlaceholder"].forEach(function(t){e+=o.$locale.translate(o[t])}),Object(n.a)(e,t)}}}},A86J:function(t,o,e){"use strict";o.a={directives:{focus:{inserted:function(t,o){o.value&&t.focus()}}},props:{autoFocus:{type:Boolean,default:!1}},watch:{autoFocus:function(t){t&&"function"==typeof this.focus&&this.focus()}},methods:{focus:function(){this.$el&&"function"==typeof this.$el.focus&&this.$el.focus()}}}},HANb:function(t,o,e){},oswe:function(t,o,e){"use strict";var n=e("HANb");e.n(n).a}}]);