(window.webpackJsonp=window.webpackJsonp||[]).push([[17,240],{B0ip:function(t,e,a){"use strict";a.r(e);var o=a("6DIm"),s=a("bmGB"),i=a("FAt1");o.default.use(s.b,{toast:{position:s.a.rightBottom,showProgressBar:!1,icon:!1}});var l={name:"CommonMessages",components:{AppReloadMessage:i.default,CommonDialog:function(){return a.e(12).then(a.bind(null,"CqLK"))},FormButton:function(){return Promise.all([a.e(1),a.e(6)]).then(a.bind(null,"dphA"))}},props:{autoClearToastMessages:{type:Boolean,default:!1},noAppReloadMessage:{type:Boolean,default:!1}},data:function(){return{isModalVisible:!1,modalId:"",modalHeading:"",modalHeadingPlaceholders:[],modalText:"",modalSize:"md",modalTextPlaceholders:[],modalButtonBehavior:"ok",modalAllowClose:!1,modalOkCallback:null,modalCancelCallback:null,frostModeId:null}},created:function(){this.$bus.$on(["showToastMessage","showNotification"],this.showToastMessage),this.$router.afterEach(this.clearToastMessages),this.$bus.$on(["hideToastMessage","clearNotification"],this.hideToastMessage),this.$bus.$on("showModalMessage",this.showModalMessage),this.$bus.$on("hideModalMessage",this.hideModalMessage),this.$bus.$on("activateFrostMode",this.activateFrostMode),this.$bus.$on("deactivateFrostMode",this.deactivateFrostMode)},beforeDestroy:function(){this.$bus.$off(["showToastMessage","showNotification"],this.showToastMessage),this.$bus.$off(["hideToastMessage","clearNotification"],this.hideToastMessage),this.$bus.$off("showModalMessage",this.showModalMessage),this.$bus.$off("hideModalMessage",this.hideModalMessage)},methods:{showToastMessage:function(t){var e,a=this;switch(t.variant){case"danger":e="error";break;case"warning":e="warning";break;case"success":e="success";break;case"info":default:e="info"}t.id&&this.$snotify.remove(t.id,!0);var o=t.dismissTimeout||3e3;t.persistent&&(o=0);var s=!0;(void 0!==t.dismissible&&!t.dismissible||this.frostModeId&&this.frostModeId!==t.frostModeId)&&(s=!1),this.$nextTick(function(){var i=a.$snotify[e](a.$locale.translate(t.text,t.textPlaceholders),a.$locale.translate(t.heading,t.headingPlaceholders),{id:t.id,timeout:o,closeOnClick:s,titleMaxLength:255,bodyMaxLength:255});t.callback&&i.on("click",function(){if(a.frostModeId&&a.frostModeId!==t.frostModeId)return a.showModalMessage({id:"frostModeCallbackSuppressedMessage",text:"Please finish your current task first before you try to interact with this message again.",frostModeId:a.frostModeId}),void a.$log.warn("Frost mode active, callback suppressed.",t);(void 0===t.dismissible||t.dismissible)&&a.$snotify.remove(i.id),t.callback.call()})})},hideToastMessage:function(t){this.$snotify.clear(t)},clearToastMessages:function(){this.autoClearToastMessages&&this.$snotify.clear()},showModalMessage:function(t){var e=this;t&&t.text&&(this.isModalVisible?this.$log.error("Modal already active, message will not be shown.",t):this.frostModeId&&this.frostModeId!==t.frostModeId?this.$log.warn("Frost mode active, message will not be shown.",t):(this.modalText=t.text,this.modalTextPlaceholders=t.textPlaceholders||[],this.modalHeading=t.heading||"",this.modalHeadingPlaceholders=t.headingPlaceholders||[],this.modalAllowClose=t.allowClose||!1,this.modalSize=t.size||"md",this.modalButtonBehavior=t.buttonBehavior||"ok",this.modalId=t.id||"",t.okCallback&&"function"==typeof t.okCallback?this.modalOkCallback=t.okCallback:this.modalOkCallback=null,t.cancelCallback&&"function"==typeof t.cancelCallback?this.modalCancelCallback=t.cancelCallback:this.modalCancelCallback=null,this.$nextTick(function(){e.modalShow()})))},hideModalMessage:function(t){this.isModalVisible&&this.modalId===t&&this.modalClose()},modalOk:function(){this.modalClose(),this.modalOkCallback&&this.modalOkCallback()},modalCancel:function(){this.modalClose(),this.modalCancelCallback&&this.modalCancelCallback()},modalShow:function(){this.isModalVisible=!0},modalClose:function(){this.isModalVisible=!1},activateFrostMode:function(t){this.frostModeId=t},deactivateFrostMode:function(t){this.frostModeId===t&&(this.frostModeId=null)}}},n=(a("G5pt"),a("psIG")),d=Object(n.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vue-snotify"),t._v(" "),t.noAppReloadMessage?t._e():a("AppReloadMessage",{ref:"appReloadMessage"}),t._v(" "),a("CommonDialog",{attrs:{size:t.modalSize,"no-close-on-backdrop":!t.modalAllowClose,"no-close-on-esc":!t.modalAllowClose,"hide-header":!t.modalHeading&&!t.modalAllowClose,"modal-class":"Modal","body-class":"Modal__Body text-left",lazy:""},scopedSlots:t._u([t.modalHeading?{key:"header",fn:function(){return[a("h4",{staticClass:"modal-title Modal__Title"},[t._v("\n                "+t._s(t._f("translate")(t.modalHeading,t.modalHeadingPlaceholders))+"\n            ")]),t._v(" "),t.modalAllowClose?a("b-btn",{staticClass:"close Modal__CloseButton",on:{click:function(e){return t.modalClose()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("\n                    Ã—\n                ")])]):t._e()]},proxy:!0}:null,{key:"footer",fn:function(){return["yesNo"===t.modalButtonBehavior?a("div",{staticClass:"float-right"},[a("FormButton",{staticClass:"mr-2 Modal__NoButton",attrs:{text:t._f("translate")("No"),variant:"secondary"},on:{click:function(e){return t.modalCancel()}}}),t._v(" "),a("FormButton",{staticClass:"Modal__YesButton",attrs:{text:t._f("translate")("Yes"),variant:"primary"},on:{click:function(e){return t.modalOk()}}})],1):"okCancel"===t.modalButtonBehavior?a("div",{staticClass:"float-right"},[a("FormButton",{staticClass:"mr-2 Modal__CancelButton",attrs:{text:t._f("translate")("Cancel"),variant:"secondary"},on:{click:function(e){return t.modalCancel()}}}),t._v(" "),a("FormButton",{staticClass:"Modal__OKButton",attrs:{text:t._f("translate")("OK"),variant:"primary"},on:{click:function(e){return t.modalOk()}}})],1):a("FormButton",{staticClass:"float-right Modal__OKButton",attrs:{text:t._f("translate")("OK"),variant:"primary"},on:{click:function(e){return t.modalOk()}}})]},proxy:!0}],null,!0),model:{value:t.isModalVisible,callback:function(e){t.isModalVisible=e},expression:"isModalVisible"}},[t._v(" "),t.modalText?a("p",[t._v("\n            "+t._s(t._f("translate")(t.modalText,t.modalTextPlaceholders))+"\n        ")]):t._e()])],1)},[],!1,null,null,null);e.default=d.exports},FAt1:function(t,e,a){"use strict";a.r(e);var o={name:"AppReloadMessage",data:function(){return{manifest:void 0}},mounted:function(){this.manifestFetch(),this.intervalId=setInterval(this.manifestFetch,3e4)},beforeDestroy:function(){clearInterval(this.intervalId)},methods:{manifestFetch:function(){var t=this;return this.clientSendRequest({Path:"".concat(this.$router.options.base,"/manifest"),Method:"get"},{xhr:!0,apiPrefix:"",responseType:"text",skipAuthentication:!0}).then(function(e){t.manifestCheck(e.Body)}).catch(function(e){t.$log.error("Manifest check failed!",e)})},manifestCheck:function(t){void 0!==this.manifest?this.manifest!==t&&(this.manifest=t,this.$bus.$emit("showToastMessage",{id:"appReloadMessage",heading:"Update available",text:"The application is currently out of date. Please reload the application as soon as possible.",variant:"warning",persistent:!0,dismissible:!1,callback:function(){window.location.reload(!0)}}),this.$router.options.reloadApp=!0):this.manifest=t}},render:function(){return null}},s=a("psIG"),i=Object(s.a)(o,void 0,void 0,!1,null,null,null);e.default=i.exports},G5pt:function(t,e,a){"use strict";var o=a("NhU8");a.n(o).a},NhU8:function(t,e,a){}}]);