(window.webpackJsonp=window.webpackJsonp||[]).push([[117,5,19],{"+p0e":function(t,e,o){"use strict";o.r(e);o("GkPX"),o("IKQL");var n=o("gki9"),a=o.n(n),l=(o("W1QL"),o("K/PF"),o("t91x"),o("75LO"),o("+J7U")),i=o.n(l),s=o("9va6"),u=o("8CHY"),c=o("Q6E5"),r=o.n(c),m=o("3Hfo"),d=o("A86J"),C={name:"FormColumnsLayout",components:{VueDraggable:r.a},mixins:[d.a,m.a],props:{name:{type:String},value:{type:Object},hidden:{type:Boolean,default:!1},activeColumnLayout:{type:String,default:"OneColumn"},availableWidgets:{type:Object,default:function(){return{}}},label:{type:String},labelSrOnly:{type:Boolean,default:!1},description:{type:String},error:{type:String},hideDescription:{type:Boolean,default:!1}},data:function(){return{oldLocalValue:null,localActiveColumnLayout:this.activeColumnLayout,addingInCol:null}},computed:{fieldId:function(){return"formInput-".concat(this._uid)},localValue:{get:function(){return this.value},set:function(t,e){this.$emit("input",t,e)}},isOneColumnLayout:function(){return"OneColumn"===this.localActiveColumnLayout},isTwoColumnsLayout:function(){return"TwoColumns"===this.localActiveColumnLayout},isThreeColumnsLayout:function(){return"ThreeColumns"===this.localActiveColumnLayout},columnLayoutConfig:function(){return this.localValue.ColumnLayout[this.localActiveColumnLayout]||this.$set(this.localValue.ColumnLayout,this.localActiveColumnLayout,{}),this.localValue.ColumnLayout[this.localActiveColumnLayout]},availableWidgetsList:function(){var t=this;return Object.keys(this.availableWidgets).map(function(e){return a()({Name:e},t.availableWidgets[e])})},columns:function(){return new Array({OneColumn:1,TwoColumns:2,ThreeColumns:3}[this.localActiveColumnLayout]).fill().map(function(t,e){return e+1})},realLabel:function(){return this.label===this.name?null:this.label}},watch:{activeColumnLayout:function(t){this.localActiveColumnLayout=t}},methods:{switchLayout:function(t){this.addingInCol=null,this.localActiveColumnLayout=t},widgets:function(t){this.columnLayoutConfig[t]||this.$set(this.localValue.ColumnLayout[this.localActiveColumnLayout],t,{});var e=this.columnLayoutConfig[t];return e||this.$set(e,[]),e},setWidgets:function(t,e){this.columnLayoutConfig[t]=e,this.emitValue()},deleteWidget:function(t,e){var o=this;this.$bus.$emit("showModalMessage",{id:"deleteColumnConfigWidgetOne",heading:"Delete column config widget",text:"Do you really want to remove this widget?",buttonBehavior:"yesNo",okCallback:function(){o.columnLayoutConfig[t].splice(e,1),o.emitValue()}})},openWidgetSelection:function(t){t!==this.addingInCol?this.addingInCol=t:this.addingInCol=null},addWidget:function(t){this.columnLayoutConfig[this.addingInCol].push(a()({},t,{ID:i()()})),this.emitValue()},emitValue:function(){Object(s.isEqual)(this.localValue,this.oldLocalValue)||(this.$emit("input",this.localValue,this.oldLocalValue),this.$emit("changed",this.localValue,this.oldLocalValue),this.oldLocalValue=Object(s.cloneDeep)(this.localValue))},colMDForSection:function(t){return{OneColumn:{container:12,widgetName:11,deleteButton:1},TwoColumns:{container:6,widgetName:10,deleteButton:2},ThreeColumns:{container:4,widgetName:9,deleteButton:3}}[this.localActiveColumnLayout][t]},isTheLastColumn:function(t){return t>1&&t===this.columns.length},filter:function(t){var e=this,o="";return["label","description"].forEach(function(t){o+=e.$locale.translate(e[t])}),Object.keys(this.availableWidgets).forEach(function(t){var n=e.availableWidgets[t];o+=e.$locale.translate(n.Title)}),Object(u.a)(o,t)}}},h=(o("oswe"),o("psIG")),f=Object(h.a)(C,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-form-group",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!hidden"}],staticClass:"ColumnsConfig",attrs:{state:Boolean(t.error)?"invalid":null,label:t._f("translate")(t.realLabel),"label-for":t.fieldId,"label-sr-only":t.labelSrOnly,description:t._f("translate")(t.description),"invalid-feedback":t._f("translate")(t.error)}},[t.realLabel&&t.description&&t.hideDescription?[o("template",{slot:"label"},[t._v("\n            "+t._s(t._f("translate")(t.realLabel))+"\n            "),o("b-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.html",modifiers:{html:!0}}],attrs:{title:t._f("translate")(t.description)}},[o("CommonIcon",{staticClass:"mx-2 Font--Small",attrs:{weight:"regular",icon:"messages-bubble-square-information"}})],1)],1),t._v(" "),o("template",{slot:"description"},[o("small",{staticClass:"sr-only"},[t._v("\n                "+t._s(t._f("translate")(t.description))+"\n            ")])])]:t._e(),t._v(" "),o("b-row",{staticClass:"mt-1",attrs:{"align-v":"center"}},[o("b-col",{attrs:{md:"12"}},[o("span",[t._v("\n                "+t._s(t._f("translate")("Select the layout you want to edit"))+"\n            ")]),t._v(" "),o("CommonLink",{directives:[{name:"focus",rawName:"v-focus",value:t.autoFocus,expression:"autoFocus"}],staticClass:"Icon--OpenOneColumnView",on:{click:function(e){return t.switchLayout("OneColumn")}}},[o("CommonIcon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"Icon m-2",class:{ActiveColumnLayout:t.isOneColumnLayout},attrs:{title:t._f("translate")("One Column settings"),icon:"layout-top"}})],1),t._v(" "),o("CommonLink",{staticClass:"Icon--OpenTwoColumsView",on:{click:function(e){return t.switchLayout("TwoColumns")}}},[o("CommonIcon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"Icon m-2",class:{ActiveColumnLayout:t.isTwoColumnsLayout},attrs:{title:t._f("translate")("Two Columns settings"),icon:"layout-4"}})],1),t._v(" "),o("CommonLink",{staticClass:"Icon--OpenThreeColumsView",on:{click:function(e){return t.switchLayout("ThreeColumns")}}},[o("CommonIcon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"Icon m-2",class:{ActiveColumnLayout:t.isThreeColumnsLayout},attrs:{title:t._f("translate")("Three Columns settings"),icon:"layout-3"}})],1)],1)],1),t._v(" "),o("b-row",{attrs:{"align-v":"center"}},[o("b-col",[t._v("\n            "+t._s(t._f("translate")("Edit %s column layout",t.columns.length))+"\n        ")])],1),t._v(" "),o("b-row",{staticClass:"mt-2",attrs:{"no-gutters":""}},t._l(t.columns,function(e){return o("b-col",{key:e,staticClass:"ColumnLayoutSettings__Box px-2 pb-2",attrs:{cols:t.colMDForSection("container")}},[o("b-row",{attrs:{"no-gutters":""}},[o("b-col",[o("VueDraggable",{attrs:{value:t.widgets(e),group:"threeColumnLayout",animation:"200","ghost-class":"DragDropGhost",handle:".FormColumnsLayout__DragAndDrop"},on:{input:function(o){return t.setWidgets(e,o)}}},t._l(t.widgets(e),function(n,a){return o("b-row",{key:n.ID,staticClass:"mt-2",attrs:{"no-gutters":""}},[o("b-col",{attrs:{md:t.colMDForSection("widgetName")}},[o("b-row",{staticClass:"ColumnLayoutSettings__Item",attrs:{"no-gutters":""}},[o("b-col",{staticClass:"pl-2 text-truncate",attrs:{md:"10",title:t._f("translate")(n.Title)}},[t._v("\n                                        "+t._s(t._f("translate")(n.Title))+"\n                                    ")]),t._v(" "),o("b-col",{staticClass:"pr-2 text-right",attrs:{md:"2",lg:"2"}},[o("CommonIcon",{staticClass:"FormColumnsLayout__DragAndDrop",attrs:{weight:"bold",icon:"navigation-menu"}})],1)],1)],1),t._v(" "),o("b-col",{staticClass:"text-right",attrs:{md:t.colMDForSection("deleteButton")}},[o("CommonLink",{staticClass:"Color--Alert Delete",on:{click:function(o){return t.deleteWidget(e,a)}}},[o("CommonIcon",{staticClass:"Icon",attrs:{weight:"regular",icon:"bin-2-alternate"}})],1)],1)],1)}),1),t._v(" "),o("b-row",{staticClass:"mt-2 text-center",attrs:{"no-gutters":""}},[o("b-col",{staticClass:"position-relative"},[t.addingInCol===e?o("div",{staticClass:"ColumnLayoutSettings__AddLayer position-absolute",class:{"ColumnLayoutSettings__AddLayer--inverted":t.isTheLastColumn(e)}},t._l(t.availableWidgetsList,function(e){return o("b-row",{key:e.Name,staticClass:"my-2 mx-1",attrs:{"no-gutters":""}},[o("b-col",{staticClass:"text-truncate"},[o("CommonLink",{staticClass:"d-block ColumnLayoutSettings__Item",on:{click:function(o){return t.addWidget(e)}}},[t._v("\n                                            "+t._s(t._f("translate")(e.Title))+"\n                                        ")])],1)],1)}),1):t._e(),t._v(" "),o("CommonLink",{staticClass:"ColumnLayoutSettings__AddButton",class:{"ColumnLayoutSettings__AddButton--Active":t.addingInCol===e},on:{click:function(o){return t.openWidgetSelection(e)}}},[o("CommonIcon",{staticClass:"icon",attrs:{weight:"bold",icon:t.addingInCol===e?"close":"add"}})],1)],1)],1)],1)],1)],1)}),1),t._v(" "),o("b-row",{staticClass:"my-2"},[o("b-col",{staticClass:"text-left"},[o("p",{staticClass:"m-0"},[t._v("\n                "+t._s(t._f("translate")("Here you can design your column layout for the detail view the way it fits your needs."))+"\n            ")]),t._v(" "),o("p",{staticClass:"m-0"},[t._v("\n                "+t._s(t._f("translate")("Please press the add button at the bottom to add a module you want to get displayed."))+"\n            ")]),t._v(" "),o("p",{staticClass:"m-0"},[t._v("\n                "+t._s(t._f("translate")("By pressing the Trash icon you can remove it."))+"\n            ")]),t._v(" "),o("p",{staticClass:"m-0"},[t._v("\n                "+t._s(t._f("translate")("You change the settings of each box inside the box ."))+"\n            ")]),t._v(" "),o("p",{staticClass:"m-0"},[t._v("\n                "+t._s(t._f("translate")("Hint: You can add modules multiple times and each module has it's own settings."))+"\n            ")])])],1)],2)},[],!1,null,null,null);e.default=f.exports},"3Hfo":function(t,e,o){"use strict";var n=o("8CHY");e.a={methods:{filter:function(t){var e=this,o="";return["label","description","localPlaceholder"].forEach(function(t){o+=e.$locale.translate(e[t])}),Object(n.a)(o,t)}}}},A86J:function(t,e,o){"use strict";e.a={directives:{focus:{inserted:function(t,e){e.value&&t.focus()}}},props:{autoFocus:{type:Boolean,default:!1}}}},HANb:function(t,e,o){},oswe:function(t,e,o){"use strict";var n=o("HANb");o.n(n).a}}]);