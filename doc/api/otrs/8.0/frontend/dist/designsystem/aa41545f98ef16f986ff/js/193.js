(window.webpackJsonp=window.webpackJsonp||[]).push([[193,59,326],{"3Hfo":function(t,n,e){"use strict";var i=e("8CHY");n.a={methods:{filter:function(t){var n=this,e="";e+=this.$locale.translate(this.label,this.labelPlaceholder);return["description","localPlaceholder"].forEach(function(t){e+=n.$locale.translate(n[t])}),Object(i.a)(e,t)}}}},"5ZVq":function(t,n,e){"use strict";e.r(n);e("U8p0"),e("W1QL"),e("K/PF"),e("t91x"),e("75LO");var i=e("VixF"),a=e("8CHY"),o={name:"FormNotificationEvents",components:{CommonCheckIcon:function(){return e.e(20).then(e.bind(null,"70Qt"))}},mixins:[i.a],props:{value:{type:Object},name:{type:String,default:""},label:{type:String},labelPlaceholder:{type:Array},description:{type:String},error:{type:String},hidden:{type:Boolean,default:!1},transports:{type:Object,required:!0},notifications:{type:Object,required:!0}},data:function(){return{localValue:null,oldLocalValue:null,runningInput:!1}},computed:{transportsList:function(){var t=this;return Object.keys(this.transports).map(function(n){return t.transports[n]}).sort(function(t,n){return t.Prio-n.Prio})},notificationsList:function(){var t=this;return Object.keys(this.notifications).map(function(n){return t.notifications[n]}).sort(function(t,n){var e=t.Name.toLowerCase(),i=n.Name.toLowerCase();return e<i?-1:e>i?1:0})},anyNotificationWithRequired:function(){var t=!1;return this.notificationsList.forEach(function(n){return!n.Required||(t=!0,!1)}),t}},watch:{value:function(){this.buildLocalValue()}},created:function(){this.buildLocalValue()},methods:{onInput:function(t,n,e){var i=this;this.runInput(function(){i.setValue(t,n,e),i.emitValue()})},onTransportInput:function(t,n){var e=this;this.runInput(function(){e.notificationsList.forEach(function(i){e.isNotificationTransportDisabled(i,t)||e.setValue(i,t,n)}),e.emitValue()})},buildLocalValue:function(){var t=this.value&&this.value instanceof Object?JSON.parse(JSON.stringify(this.value)):{};this.localValue=t,this.oldLocalValue=JSON.parse(JSON.stringify(t))},emitValue:function(){var t=this,n=function(){var n=JSON.parse(JSON.stringify(t.localValue)),e=JSON.parse(JSON.stringify(n));t.$emit("input",n,t.oldLocalValue),t.oldLocalValue=e};return this.oldLocalValue?Object.keys(this.localValue).length!==Object.keys(this.oldLocalValue).length?n():(Object.keys(this.localValue).every(function(e){return Object.prototype.hasOwnProperty.call(t.oldLocalValue,e)&&t.localValue[e]===t.oldLocalValue[e]||(n(),!1)}),null):n()},notificationTransportValue:function(t,n){if(this.isNotificationTransportDisabled(t,n))return!1;var e=this.localValue[t.ID]||{};return Object.prototype.hasOwnProperty.call(e,n.Name)?Boolean(e[n.Name]):Boolean(t.EnabledTransports[n.Name])},isNotificationTransportDisabled:function(t,n){return!t.Transports[n.Name]},isTransportDisabled:function(t){var n=this,e=!0;return this.notificationsList.forEach(function(i){return!!n.isNotificationTransportDisabled(i,t)||(e=!1,!1)}),e},transportValue:function(t){var n=this,e=!0;return this.notificationsList.forEach(function(i){var a=n.isNotificationTransportDisabled(i,t),o=n.notificationTransportValue(i,t);return!(!a&&!o)||(e=!1,!1)}),e},setValue:function(t,n,e){var i=this.localValue[t.ID]||{};if(!e&&t.Required){var a=!1;if(this.transportsList.forEach(function(t){return t.Name===n.Name||(!Object.prototype.hasOwnProperty.call(i,t.Name)||!i[t.Name]||(a=!0,!1))}),!a)return!1}return i[n.Name]=e?1:0,this.$set(this.localValue,t.ID,i),!0},filter:function(t){var n=this,e="";e+=this.$locale.translate(this.label,this.labelPlaceholder);return["description"].forEach(function(t){e+=n.$locale.translate(n[t])}),this.notificationsList.forEach(function(t){e+=t.Name+t.Description}),Object(a.a)(e,t)},runInput:function(t){var n=this;this.runningInput||(this.runningInput=!0,t(),this.$nextTick(function(){n.runningInput=!1}))}}},r=(e("Fc5e"),e("psIG")),s=Object(r.a)(o,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-form-group",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!hidden"}],attrs:{state:!Boolean(t.error)&&null,"invalid-feedback":t._f("translate")(t.error),"aria-label":t._f("translate")(t.label,t.labelPlaceholder)}},[e("table",{staticClass:"table table-sm"},[e("thead",[e("tr",[e("th",{staticClass:"LabelCol",attrs:{scope:"col"}},[e("label",[t._v(t._s(t._f("translate")(t.label,t.labelPlaceholder)))]),t._v(" "),t.description?e("b-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.html",modifiers:{html:!0}}],attrs:{title:t._f("translate")(t.description)}},[e("CommonIcon",{staticClass:"mx-2 Font--Small",attrs:{weight:"regular",icon:"messages-bubble-square-information"}})],1):t._e()],1),t._v(" "),e("th",{staticClass:"SelectAllCol"},[t._v("\n                    "+t._s(t._f("translate")("all/none"))+"\n                ")]),t._v(" "),t._l(t.transportsList,function(n){return e("th",{key:n.Name,staticClass:"IconCol text-center",attrs:{scope:"col"}},[e("CommonCheckIcon",{attrs:{title:n.Name,name:"Transport-"+n.Name,"weight-with-icon":n.CommonIcon,disabled:t.isTransportDisabled(n),value:t.transportValue(n)},on:{input:function(e){return t.onTransportInput(n,e)}}})],1)})],2)]),t._v(" "),e("tbody",t._l(t.notificationsList,function(n){return e("tr",{key:n.ID},[e("td",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.html",modifiers:{html:!0}}],attrs:{title:t._f("translate")(n.Description)}},[1==n.Required?e("span",[t._v("\n                        *\n                    ")]):t._e(),t._v(t._s(t._f("translate")(n.Name))+"\n                ")]),t._v(" "),e("td"),t._v(" "),t._l(t.transportsList,function(i){return e("td",{key:n.ID+"-"+i.Name,staticClass:"text-center"},[e("CommonCheckIcon",{attrs:{name:"Notification-"+n.ID+"-"+i.Name,"weight-with-icon":i.CommonIcon,value:t.notificationTransportValue(n,i),disabled:t.isNotificationTransportDisabled(n,i)},on:{input:function(e){return t.onInput(n,i,e)}}})],1)})],2)}),0),t._v(" "),t.anyNotificationWithRequired?e("tfoot",{staticClass:"RequiredHint"},[e("tr",[e("td",{attrs:{colspan:2+t.transportsList.length}},[t._v("\n                    * "+t._s(t._f("translate")("To activate this notification, at least one transport method must be activated."))+"\n                ")])])]):t._e()])])},[],!1,null,null,null);n.default=s.exports},A86J:function(t,n,e){"use strict";n.a={directives:{focus:{inserted:function(t,n){n.value&&t.focus()}}},props:{autoFocus:{type:Boolean,default:!1}},watch:{autoFocus:function(t){t&&"function"==typeof this.focus&&this.focus()}},methods:{focus:function(){this.$el&&"function"==typeof this.$el.focus&&this.$el.focus()}}}},Fc5e:function(t,n,e){"use strict";var i=e("Zdip");e.n(i).a},VixF:function(t,n,e){"use strict";var i=e("A86J"),a=e("3Hfo"),o=e("rpZP");n.a={mixins:[i.a,a.a,{computed:{localPlaceholder:function(){if(!this.placeholder)return"";var t=this.$locale.translate(this.placeholder);return this.labelSrOnly&&this.required&&(t="".concat(t,"*")),t}}},o.a],mounted:function(){var t=this;this.$nextTick(function(){t.$emit("loaded")})}}},Zdip:function(t,n,e){}}]);