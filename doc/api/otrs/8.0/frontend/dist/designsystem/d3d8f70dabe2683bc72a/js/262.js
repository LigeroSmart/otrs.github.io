(window.webpackJsonp=window.webpackJsonp||[]).push([[262],{"1vfQ":function(t,n,e){"use strict";e.r(n);e("2Tod"),e("ABKx"),e("U8p0"),e("W1QL"),e("K/PF"),e("t91x"),e("75LO"),e("e2Kn");var o=e("OvAC"),r=e.n(o),a=e("yBo+");function i(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,o)}return e}var s={name:"BusinessObjectPropertyCustomer",components:function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?i(e,!0).forEach(function(n){r()(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}({DynamicField:function(){return e.e(22).then(e.bind(null,"QAut"))}},Object(a.a)("Components/DynamicField/Value")),props:{itemId:{type:[Number,String]}},data:function(){return{info:{}}},computed:{fetchDataUrl:function(){return null},dynamicFields:function(){return this.info.DynamicFields||[]},socialLinks:function(){return this.info.SocialLinks||[]},mapLinks:function(){return this.info.MapLinks||[]},ticketKPI:function(){return this.info.TicketKPI||{}},ticketKPIList:function(){var t=this,n=Object.keys(this.ticketKPI).filter(function(t){return"TotalTickets"!==t}).map(function(n){return t.ticketKPI[n]});return n.sort(function(t,n){return t.Title.localeCompare(n.Title)}),this.splitListByCols(n)},totalTicketKPI:function(){return this.ticketKPI.TotalTickets},customerId:function(){return this.info.CustomerID},personalInfo:function(){return this.info.PersonalInfo?this.info.PersonalInfo:null},name:function(){return this.personalInfo.CustomerCompanyName?this.personalInfo.CustomerCompanyName:null},country:function(){return this.personalInfo.CustomerCompanyCountry?this.personalInfo.CustomerCompanyCountry:null},city:function(){return this.personalInfo.CustomerCompanyCity?this.personalInfo.CustomerCompanyCity:null},street:function(){return this.personalInfo.CustomerCompanyStreet?this.personalInfo.CustomerCompanyStreet:null},zipcode:function(){return this.personalInfo.CustomerCompanyZIP?this.personalInfo.CustomerCompanyZIP:null},url:function(){return this.personalInfo.CustomerCompanyURL?this.personalInfo.CustomerCompanyURL:null}},watch:{itemId:function(){this.fetchData()}},created:function(){this.itemId&&this.fetchData()},methods:{fetchData:function(){var t=this;this.itemId?this.clientSendRequest({Path:this.fetchDataUrl,Method:"get"}).then(function(n){t.info=n.Body,t.$nextTick(function(){t.$test.setFlag("WidgetPropertyFetch::Customer::Data")})}).catch(function(n){t.$bus.$emit("showToastMessage",{id:"fetchCustomerPropertyData",heading:"Unable to fetch customer data",text:"Please contact the administrator.",variant:"danger"}),t.$log.error("Fetching customer data failed!",n)}):this.info={}},splitListByCols:function(t){var n=[],e=Math.ceil(t.length/2),o=[];return t.forEach(function(t){o.push(t),o.length>=e&&(n.push(o),o=[])}),o.length&&n.push(o),n},onEditCustomer:function(){}}},l=e("psIG"),c=Object(l.a)(s,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-row",[t.customerId?e("b-col",{staticClass:"border bg-white InfoCard InfoCard__Customer"},[e("b-row",[e("b-col",{staticClass:"py-2 border-bottom InfoCard__Header"},[e("h3",{staticClass:"p-0 m-0"},[t._v("\n                    "+t._s(t._f("translate")("Customer"))+"\n                ")])])],1),t._v(" "),e("b-row",[e("b-col",{staticClass:"py-2 mx-3 px-0 border-bottom InfoCard__Contact"},[e("h4",{staticClass:"m-0"},[t._v("\n                    "+t._s(t.name)+"\n                ")]),t._v("\n                "+t._s(t.street)),e("br"),t._v("\n                "+t._s(t.zipcode)+" "+t._s(t.city)),e("br"),t._v("\n                "+t._s(t.country)+"\n            ")])],1),t._v(" "),e("b-row",[e("b-col",{staticClass:"py-2 mx-3 px-0 InfoCard__Meta",class:{"border-bottom":t.dynamicFields.length}},[e("b-row",{attrs:{"align-h":"start"}},[e("b-col",{attrs:{cols:"auto"}},[e("div",{staticClass:"InfoCard__Label"},[t._v("\n                            "+t._s(t._f("translate")("Action"))+"\n                        ")]),t._v(" "),e("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t._f("translate")("Edit customer")}},[e("CommonIcon",{attrs:{icon:"single-neutral-actions-edit-1"},on:{click:t.onEditCustomer}})],1)],1),t._v(" "),t.mapLinks.length?e("b-col",{attrs:{cols:"auto"}},[e("div",{staticClass:"InfoCard__Label"},[t._v("\n                            "+t._s(t._f("translate")("Map"))+"\n                        ")]),t._v(" "),t._l(t.mapLinks,function(n,o){return e("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],key:n.Name,class:{"ml-2":o>0},attrs:{title:t._f("translate")(n.Title),link:n.URL,target:n.Target,"is-external":""}},[e("CommonIcon",{attrs:{"weight-with-icon":n.CommonIcon}})],1)})],2):t._e(),t._v(" "),t.url?e("b-col",{attrs:{cols:"auto"}},[e("div",{staticClass:"InfoCard__Label"},[t._v("\n                            "+t._s(t._f("translate")("Web"))+"\n                        ")]),t._v(" "),e("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{link:t.url,title:t.url,target:"_blank","is-external":""}},[e("CommonIcon",{attrs:{"weight-with-icon":"regular,network-www"}})],1)],1):t._e(),t._v(" "),t.socialLinks.length?e("b-col",{attrs:{cols:"auto"}},[e("div",{staticClass:"InfoCard__Label"},[t._v("\n                            "+t._s(t._f("translate")("Social"))+"\n                        ")]),t._v(" "),t._l(t.socialLinks,function(n,o){return e("CommonLink",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],key:n.Name,class:{"ml-2":o>0},attrs:{title:t._f("translate")(n.Title),link:n.URL,target:n.Target,"is-external":""}},[e("CommonIcon",{attrs:{"weight-with-icon":n.CommonIcon}})],1)})],2):t._e()],1)],1)],1),t._v(" "),e("b-row",[e("b-col",{staticClass:"py-2 mx-3 px-0 InfoCard__Status",class:{"border-bottom":t.dynamicFields.length}},[e("div",{staticClass:"mb-3 InfoCard__Headline"},[t._v("\n                    "+t._s(t._f("translate")("Customer Status"))+"\n                ")]),t._v(" "),e("b-row",t._l(t.ticketKPIList,function(n,o){return e("b-col",{key:o,attrs:{md:"6"}},t._l(n,function(n){return e("b-row",{key:n.Name,staticClass:"mb-3",attrs:{"align-v":"center"}},[e("b-col",{staticClass:"InfoCard__DummyPie__Wrapper",attrs:{cols:"auto"}},[e("div",{staticClass:"p-0 m-0 InfoCard__DummyPie"})]),t._v(" "),e("b-col",{staticClass:"pl-0"},[e("span",{staticClass:"InfoCard__Label"},[t._v("\n                                    "+t._s(n.Title)+"\n                                ")]),t._v("\n                                -\n                                "),e("CommonLink",{attrs:{title:t._f("translate")(n.Title),link:n.URL}},[t._v("\n                                    "+t._s(n.Count)+"\n                                ")]),t._v(" "),t.totalTicketKPI?[t._v("\n                                    |\n                                    "),e("CommonLink",{attrs:{title:t._f("translate")(t.totalTicketKPI.Title),link:t.totalTicketKPI.URL}},[t._v("\n                                        "+t._s(t.totalTicketKPI.Count)+"\n                                    ")]),t._v("\n                                    "+t._s(t._f("translate")("total"))+"\n                                ")]:t._e()],2)],1)}),1)}),1)],1)],1),t._v(" "),t.dynamicFields.length?e("b-row",[e("b-col",{staticClass:"py-2 mx-3 px-0 InfoCard__Information"},[e("div",{staticClass:"mb-3 InfoCard__Headline"},[t._v("\n                    "+t._s(t._f("translate")("Customer Information"))+"\n                ")]),t._v(" "),e("b-row",[e("b-col",[e("ul",t._l(t.dynamicFields,function(t){return e("li",{key:t.Name},[e("DynamicField",{attrs:{"dynamic-field-config":t.Config,"dynamic-field":t.Value,type:"detail","value-label-class":"d-inline-block mr-1 InfoCard__Label"}})],1)}),0)])],1)],1)],1):t._e()],1):t._e()],1)},[],!1,null,null,null);n.default=c.exports}}]);