(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{"6AFu":function(t,e,s){"use strict";s.r(e);s("W1QL"),s("K/PF"),s("t91x"),s("75LO");var a={name:"ChatOverview",components:{CommonAvatarExternal:function(){return s.e(53).then(s.bind(null,"62pd"))}},props:{chatConversations:{type:Object},primaryColor:{type:String},conversationsTitleText:{type:String,default:"Conversation(s)"},noChatConversationsText:{type:String,default:"You are not participating in a chat at the moment."},newConversationLinkText:{type:String,default:"New conversation"},incomingRequestsTitleText:{type:String,default:"Incoming chat request(s)"},outgoingRequestsTitleText:{type:String,default:"Outgoing chat request(s)"},activeChatsTitleText:{type:String,default:"Active chat(s)"},closedChatsTitleText:{type:String,default:"Closed chat(s)"}},data:function(){return{filters:[{id:"IncomingRequests",label:this.incomingRequestsTitleText},{id:"OutgoingRequests",label:this.outgoingRequestsTitleText},{id:"Active",label:this.activeChatsTitleText},{id:"Closed",label:this.closedChatsTitleText}]}},computed:{chatConversationCount:function(){var t=this,e=0;return Object.keys(this.chatConversations).forEach(function(s){e+=t.chatConversations[s].length}),e}},methods:{lastMessage:function(t){return t.ChatMessages[t.ChatMessages.length-1]},select:function(t){this.$emit("input",t)},create:function(){this.$emit("create")},close:function(){this.$emit("close")}}},o=s("psIG"),n=Object(o.a)(a,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-col",{staticClass:"px-0 mb-3 shadow Chat--WhiteBackground",attrs:{cols:"12"}},[s("b-col",{staticClass:"py-2 Chat__Head Chat--PrimaryBackground",style:{"background-color":t.primaryColor?t.primaryColor+" !important":null},attrs:{cols:"12"}},[s("b-row",[s("b-col",{staticClass:"d-flex",attrs:{cols:"12"}},[s("p",{staticClass:"mb-0 Chat__Headline"},[t._v("\n                    "+t._s(t._f("translate")(t.conversationsTitleText))+"\n                ")]),t._v(" "),s("CommonLink",{staticClass:"ml-auto mr-0 Chat__Icon",on:{click:function(e){return t.close()}}},[s("CommonIcon",{attrs:{weight:"bold",icon:"app-window-minimize",size:"lg"}})],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"Chat__Overview"},[t.chatConversationCount?t._l(t.filters,function(e){return s("div",{key:e.id},[t.chatConversations[e.id].length?[s("b-col",{attrs:{cols:"12"}},[s("h4",{staticClass:"Chat__FilterHeadline"},[t._v("\n                        "+t._s(t._f("translate")(e.label))+"\n                    ")])]),t._v(" "),s("b-col",{attrs:{cols:"12"}},t._l(t.chatConversations[e.id],function(e){return s("CommonLink",{key:e.ChatID,style:{color:t.primaryColor?t.primaryColor:null},on:{click:function(s){return t.select(e.ChatID)}}},[s("b-row",{staticClass:"my-3 Chat__OverviewMessage"},["User"===t.lastMessage(e).ChatterType?[s("b-col",{staticClass:"Avatar",attrs:{cols:"2"}},[s("CommonAvatarExternal",{attrs:{title:t.lastMessage(e).ChatterName,"user-type":"agent"}})],1),t._v(" "),s("b-col",{attrs:{cols:"10"}},[s("b-row",[s("b-col",{staticClass:"clearfix Chat__AgentMessage",attrs:{cols:"12"}},[s("p",{staticClass:"float-left mb-0 Chat__AgentSmall"},[t._v("\n                                                "+t._s(t.lastMessage(e).ChatterName)+"\n                                            ")]),t._v(" "),s("p",{staticClass:"float-right mb-0 Chat__AgentLastActiveSmall"},[t._v("\n                                                "+t._s(t._f("localize")(t.lastMessage(e).CreateTime,"TimeLong"))+"\n                                                "),s("CommonIcon",{staticClass:"pl-1",attrs:{icon:"arrow-right-1"}})],1)]),t._v(" "),s("b-col",{attrs:{cols:"11"}},[s("p",{staticClass:"text-truncate Chat__AgentMessageSmall",domProps:{innerHTML:t._s(t.lastMessage(e).MessageText)}})])],1)],1)]:[s("b-col",{staticClass:"Avatar",attrs:{cols:"2"}},[s("CommonAvatarExternal",{attrs:{title:t.lastMessage(e).ChatterName,image:t.$store.getters.userInfo&&t.$store.getters.userInfo.UserAvatar,realname:t.lastMessage(e).ChatterName,"user-type":"customer"}})],1),t._v(" "),s("b-col",{attrs:{cols:"10"}},[s("b-row",[s("b-col",{staticClass:"clearfix Chat__AgentMessage",attrs:{cols:"12"}},[s("p",{staticClass:"float-left mb-0 Chat__AgentSmall"},[t._v("\n                                                "+t._s(t.lastMessage(e).ChatterName)+"\n                                            ")]),t._v(" "),s("p",{staticClass:"float-right mb-0 Chat__AgentLastActiveSmall"},[t._v("\n                                                "+t._s(t._f("localize")(t.lastMessage(e).CreateTime,"TimeLong"))+"\n                                                "),s("CommonIcon",{staticClass:"pl-1",attrs:{icon:"arrow-right-1"}})],1)]),t._v(" "),s("b-col",{attrs:{cols:"11"}},[s("p",{staticClass:"text-truncate Chat__AgentMessageSmall",domProps:{innerHTML:t._s(t.lastMessage(e).MessageText)}})])],1)],1)]],2)],1)}),1)]:t._e()],2)}):s("b-col",{staticClass:"my-3",attrs:{cols:"12"}},[s("p",{staticClass:"Chat__AgentMessageSmall"},[t._v("\n                "+t._s(t._f("translate")(t.noChatConversationsText))+"\n            ")])]),t._v(" "),s("b-col",{staticClass:"pb-3",attrs:{md:"12"}},[s("p",{staticClass:"mt-3 mb-1 small text-center"},[s("CommonLink",{staticClass:"btn btn-primary Button Button--Primary",style:{"border-color":t.primaryColor?t.primaryColor:null,"background-color":t.primaryColor?t.primaryColor:null,color:"#fff"},on:{click:t.create}},[s("CommonIcon",{staticClass:"mr-2",attrs:{weight:"bold",icon:"messages-bubble-double"}}),t._v("\n                    "+t._s(t._f("translate")(t.newConversationLinkText))+"\n                ")],1)],1)])],2)],1)},[],!1,null,null,null);e.default=n.exports}}]);